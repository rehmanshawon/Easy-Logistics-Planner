{"ast":null,"code":"var _jsxFileName = \"c:\\\\Tutorials\\\\elp-app\\\\src\\\\App.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useRef, useState, useReducer } from \"react\";\nimport { fabric } from \"fabric\";\nimport { SketchPicker } from \"react-color\";\nimport MediaQuery from \"react-responsive\";\nimport reactCSS from \"reactcss\";\nimport \"./styles.css\";\nimport styles from \"./rightMenu.module.css\";\nimport tbStyles from \"./toolbar.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  version: \"3.6.3\",\n  objects: [{\n    type: \"rect\",\n    version: \"3.6.3\",\n    originX: \"left\",\n    originY: \"top\",\n    left: 0,\n    top: 0,\n    width: 1,\n    height: 1,\n    fill: \"black\",\n    stroke: null,\n    strokeWidth: 1,\n    strokeDashArray: null,\n    strokeLineCap: \"butt\",\n    strokeDashOffset: 0,\n    strokeLineJoin: \"miter\",\n    strokeMiterLimit: 4,\n    scaleX: 1,\n    scaleY: 1,\n    angle: 0,\n    flipX: false,\n    flipY: false,\n    opacity: 1,\n    shadow: null,\n    visible: false,\n    clipTo: null,\n    backgroundColor: \"\",\n    fillRule: \"nonzero\",\n    paintFirst: \"fill\",\n    globalCompositeOperation: \"source-over\",\n    transformMatrix: null,\n    skewX: 0,\n    skewY: 0,\n    rx: 0,\n    ry: 0,\n    name: \"shape-rect-n\"\n  }]\n};\nconst fontCheck = new Set([// Windows 10\n\"Arial\", \"Arial Black\", \"Bahnschrift\", \"Calibri\", \"Cambria\", \"Cambria Math\", \"Candara\", \"Comic Sans MS\", \"Consolas\", \"Constantia\", \"Corbel\", \"Courier New\", \"Ebrima\", \"Franklin Gothic Medium\", \"Gabriola\", \"Gadugi\", \"Georgia\", \"HoloLens MDL2 Assets\", \"Impact\", \"Ink Free\", \"Javanese Text\", \"Leelawadee UI\", \"Lucida Console\", \"Lucida Sans Unicode\", \"Malgun Gothic\", \"Marlett\", \"Microsoft Himalaya\", \"Microsoft JhengHei\", \"Microsoft New Tai Lue\", \"Microsoft PhagsPa\", \"Microsoft Sans Serif\", \"Microsoft Tai Le\", \"Microsoft YaHei\", \"Microsoft Yi Baiti\", \"MingLiU-ExtB\", \"Mongolian Baiti\", \"MS Gothic\", \"MV Boli\", \"Myanmar Text\", \"Nirmala UI\", \"Palatino Linotype\", \"Segoe MDL2 Assets\", \"Segoe Print\", \"Segoe Script\", \"Segoe UI\", \"Segoe UI Historic\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"SimSun\", \"Sitka\", \"Sylfaen\", \"Symbol\", \"Tahoma\", \"Times New Roman\", \"Trebuchet MS\", \"Verdana\", \"Webdings\", \"Wingdings\", \"Yu Gothic\", // macOS\n\"American Typewriter\", \"Andale Mono\", \"Arial\", \"Arial Black\", \"Arial Narrow\", \"Arial Rounded MT Bold\", \"Arial Unicode MS\", \"Avenir\", \"Avenir Next\", \"Avenir Next Condensed\", \"Baskerville\", \"Big Caslon\", \"Bodoni 72\", \"Bodoni 72 Oldstyle\", \"Bodoni 72 Smallcaps\", \"Bradley Hand\", \"Brush Script MT\", \"Chalkboard\", \"Chalkboard SE\", \"Chalkduster\", \"Charter\", \"Cochin\", \"Comic Sans MS\", \"Copperplate\", \"Courier\", \"Courier New\", \"Didot\", \"DIN Alternate\", \"DIN Condensed\", \"Futura\", \"Geneva\", \"Georgia\", \"Gill Sans\", \"Helvetica\", \"Helvetica Neue\", \"Herculanum\", \"Hoefler Text\", \"Impact\", \"Lucida Grande\", \"Luminari\", \"Marker Felt\", \"Menlo\", \"Microsoft Sans Serif\", \"Monaco\", \"Noteworthy\", \"Optima\", \"Palatino\", \"Papyrus\", \"Phosphate\", \"Rockwell\", \"Savoye LET\", \"SignPainter\", \"Skia\", \"Snell Roundhand\", \"Tahoma\", \"Times\", \"Times New Roman\", \"Trattatello\", \"Trebuchet MS\", \"Verdana\", \"Zapfino\"].sort());\n\nconst useForceUpdate = () => {\n  _s();\n\n  return useState()[1];\n}; // Or you can use:\n// const fabric = require(\"fabric\").fabric;\n//const canvas = new fabric.Canvas(\"my-fabric-canvas\");\n\n\n_s(useForceUpdate, \"VhlnxxH3xh7Qs17KADUJ8wvRSZs=\");\n\nconst App = () => {\n  _s2();\n\n  const mforceUpdate = useForceUpdate(); // for undo/redoing\n\n  const [past, setPast] = useState([initialState]);\n  const [future, setFuture] = useState([initialState]); //const [newAction, setNewAction] = useState(0);\n\n  const [pageLoad, setPageLoad] = useState(null);\n  const canvasRender = useRef(0);\n  const canvasRef = useRef();\n  const mainDiv = useRef(null);\n  const rightBar = useRef();\n  const shapeCount = useRef(0);\n  const isDrawing = useRef(false);\n  const currentStroke = useRef(\"\");\n  const editPoly = useRef(true);\n  const openPoly = useRef(null);\n  const polyType = useRef(\"\");\n  const [reRender, forceUpdate] = useReducer(x => x + 1, 0); //const forceUpdate = React.useReducer(() => ({}))[1];\n  //const [, updateComponent] = React.useState();\n  //const forceUpdateComponent = React.useCallback(() => updateComponent({}), []);\n  //anchors\n\n  const [canvas, setCanvas] = useState(); //const [canvasHistory, setCanvasHistory] = useState([initialState]);\n  //const [canvasHistory, setCanvasHistory] = useState([]);\n  // const [canvasState, setCanvasState] = useState(initialState);\n  //const [canvasState, setCanvasState] = useState();\n\n  const [canvasTool, setCanvasTool] = useState(\"select\");\n  const [strokeWidth, setStrokeWidth] = useState(1); // const [stroke, setStrokeColor] = useState(\"black\");\n\n  const [stroke, setStrokeColor] = useState({\n    r: \"0\",\n    g: \"0\",\n    b: \"0\",\n    a: \"1\"\n  });\n  const [fill, setFillColor] = useState({\n    r: \"0\",\n    g: \"0\",\n    b: \"0\",\n    a: \"0\"\n  });\n  const [textHighlight, setHighlight] = useState({\n    r: \"255\",\n    g: \"255\",\n    b: \"0\",\n    a: \"1\"\n  }); // const [fill, setFillColor] = useState(\"black\");\n\n  const [dashSize, setDashSize] = useState(0);\n  const [gapSize, setGapSize] = useState(0);\n  const [opacity, setOpacity] = useState(100); // const [snap, setSnap] = useState(false);\n\n  const [font, setFont] = useState(\"\");\n  const [fontSize, setFontSize] = useState(30);\n  const [fontWeight, setFontWeight] = useState(\"normal\");\n  const [fontStyle, setFontStyle] = useState(\"regular\"); //const [textHighlight, setHighlight] = useState(\"yellow\");\n\n  const [showStrokePicker, setShowStrokePicker] = useState(false);\n  const [showFillPicker, setShowFillPicker] = useState(false);\n  const [showHighlightPicker, setShowHighlightPicker] = useState(false); //const [shapeCount, setShapeCount] = useState(0);\n  //const opacity = useRef(100);\n\n  const snap = useRef(false);\n  const newShape = useRef(true);\n  const anchors = useRef([]);\n  const pointer = useRef();\n  const line = useRef(null);\n  const origX = useRef();\n  const origY = useRef();\n  const angle = useRef();\n  const arrow = useRef(null);\n  const selectedShape = useRef(null);\n  const polyPoints = useRef([]);\n  const rpolygon = useRef(null);\n  const Rectangle = useRef(null);\n  const circle = useRef(null);\n  const ellipse = useRef(null);\n  const polyLines = useRef([]);\n  const currentToolId = useRef(null);\n  var currentOpenPanel = \"none\";\n  var drawingObject = {};\n  drawingObject.type = \"\";\n  drawingObject.background = \"\";\n  drawingObject.border = \"\";\n\n  const StrokeSwatchClick = () => {\n    setShowStrokePicker(showStrokePicker => !showStrokePicker);\n\n    if (!showStrokePicker) {\n      //Todo\n      var activeShape = canvas.getActiveObject();\n\n      if (activeShape) {\n        if (activeShape.stroke === \"rgba(255,255,255,0)\") {\n          setStrokeColor({\n            r: 255,\n            g: 255,\n            b: 255,\n            a: 1\n          });\n          setShapeAttributes({\n            stroke: \"rgba(255,255,255,1)\"\n          });\n        }\n      }\n    }\n  };\n\n  const FillSwatchClick = () => {\n    setShowFillPicker(showFillPicker => !showFillPicker);\n\n    if (!showFillPicker) {\n      //Todo\n      var activeShape = canvas.getActiveObject();\n\n      if (activeShape) {\n        if (activeShape.fill === \"rgba(255,255,255,0)\") {\n          setFillColor({\n            r: 255,\n            g: 255,\n            b: 255,\n            a: 1\n          });\n          setShapeAttributes({\n            fill: \"rgba(255,255,255,1)\"\n          });\n        }\n      }\n    }\n  };\n\n  const HighlightSwatchClick = () => {\n    setShowHighlightPicker(showHighlightPicker => !showHighlightPicker);\n  };\n\n  const StrokeSwatchClose = () => {\n    setShowStrokePicker(false);\n  };\n\n  const FillSwatchClose = () => {\n    setShowFillPicker(false);\n  };\n\n  const HighlightSwatchClose = () => {\n    setShowHighlightPicker(false);\n  };\n\n  const StrokeSwatchChange = color => {\n    //console.log(stroke);\n    setStrokeColor(color.rgb);\n    setShapeAttributes({\n      stroke: \"rgba(\" + color.rgb.r + \", \" + color.rgb.g + \", \" + color.rgb.b + \", \" + color.rgb.a + \")\"\n    });\n  };\n\n  const FillSwatchChange = color => {\n    //console.log(stroke);\n    setFillColor(color.rgb);\n    setShapeAttributes({\n      fill: \"rgba(\" + color.rgb.r + \", \" + color.rgb.g + \", \" + color.rgb.b + \", \" + color.rgb.a + \")\"\n    }); //console.log(swatchStyles.fill);\n  };\n\n  const HighlightSwatchChange = color => {\n    //console.log(stroke);\n    setHighlight(color.rgb);\n    setShapeAttributes({\n      textBackgroundColor: \"rgba(\" + color.rgb.r + \", \" + color.rgb.g + \", \" + color.rgb.b + \", \" + color.rgb.a + \")\"\n    });\n  };\n\n  var calcPolygonPoints = (sideCount, radius) => {\n    var sweep = Math.PI * 2 / sideCount;\n    var cx = radius;\n    var cy = radius;\n    var points = [];\n\n    for (var i = 0; i < sideCount; i++) {\n      var x = cx + radius * Math.cos(i * sweep);\n      var y = cy + radius * Math.sin(i * sweep);\n      points.push({\n        x: x,\n        y: y\n      });\n    }\n\n    return points;\n  };\n  /*\n  function click(id) {\n    var ev = new MouseEvent(\"click\", {\n      view: window,\n      bubbles: true,\n      cancelable: true,\n    });\n     var el = document.getElementById(id);\n    el.dispatchEvent(ev);\n  }\n  */\n\n\n  const saveCanvasState = newCanvasState => {\n    past.push(newCanvasState);\n    setPast(past);\n    setFuture([]);\n    sessionStorage.clear();\n    sessionStorage.myFabricJSCanvas = JSON.stringify(newCanvasState);\n    sessionStorage.setItem(\"history\", JSON.stringify(past)); //sessionStorage.myFabricJSCanvas = JSON.stringify(past);\n    //console.log(sessionStorage.myFabricJSCanvas);\n  };\n  /*\n  const onObjectModified = useCallback(\n    (e) => {\n      const newCanvasState = e.target.canvas.toJSON([\"name\"]);\n      //const newCanvasState = canvas.toJSON([\"name\"]);\n      setCanvasState(newCanvasState);\n      // Limit history depth\n      setCanvasHistory((history) => [...history, newCanvasState].slice(-32));\n      //setPast([...past, newCanvasState]);\n      //setFuture([]);\n      console.log(newCanvasState);\n    },\n    [setCanvasState, setCanvasHistory]\n  );\n  */\n\n\n  React.useEffect(() => {\n    //document.getElementById(\"select\").click();\n    var history = JSON.parse(sessionStorage.getItem(\"history\")); //get them back\n    //    console.log(history);\n\n    if (history !== null) setPast(history); //console.log(past);\n\n    const fontAvailable = new Set();\n\n    for (const font of fontCheck.values()) {\n      if (document.fonts.check(`12px \"${font}\"`)) {\n        fontAvailable.add(font);\n        var x = document.getElementById(\"fonts\");\n        var option = document.createElement(\"option\");\n        option.text = font;\n        x.add(option);\n      }\n    }\n  }, []); // React.useEffect(() => {}, [canvasState]);\n\n  React.useEffect(() => {\n    //console.log(canvasRender);\n    const canvas = new fabric.Canvas(canvasRef.current);\n    canvas.set({\n      fireMiddleClick: true,\n      // <-- enable firing of middle click events\n      stopContextMenu: true\n    }); //canvas.loadFromJSON(canvasState);\n    //    console.log(past[past.length - 1]);\n\n    if (pageLoad === null && sessionStorage.myFabricJSCanvas !== undefined) {\n      setPageLoad(1); //console.log(sessionStorage.myFabricJSCanvas);\n\n      const data = JSON.parse(sessionStorage.myFabricJSCanvas);\n      canvas.loadFromJSON(data);\n      canvas.forEachObject(function (o) {\n        if (o.name.includes(\"anchor\")) {\n          canvas.remove(o);\n        }\n      });\n      anchors.current = [];\n      var json = canvas.toJSON([\"name\"]);\n      past.push(json);\n      setPast(past);\n      var history = JSON.parse(sessionStorage.getItem(\"history\")); //get them back\n      //console.log(history);\n\n      if (history !== null) setPast(history); // console.log(past);\n\n      setFuture([]);\n    } else {\n      canvas.loadFromJSON(past[past.length - 1]);\n    }\n\n    canvas.renderAll();\n    editPoly.current = true;\n\n    if (canvasTool === \"pen\") {\n      canvas.isDrawingMode = 1;\n      canvas.freeDrawingBrush.color = \"rgba(\" + stroke.r + \", \" + stroke.g + \", \" + stroke.b + \", \" + stroke.a + \")\";\n      canvas.freeDrawingBrush.width = strokeWidth;\n    }\n\n    if (canvasTool !== \"select\") {\n      canvas.selection = false;\n      canvas.defaultCursor = \"crosshair\";\n      canvas.forEachObject(function (o) {\n        o.selectable = false;\n        o.hoverCursor = \"move\";\n      });\n\n      if (openPoly.current !== null) {\n        openPoly.current = null;\n        canvas.forEachObject(function (o) {\n          if (o.name.includes(\"anchor\")) {\n            canvas.remove(o);\n          }\n        });\n        anchors.current = [];\n        canvas.renderAll();\n        const newCanvasState = canvas.toJSON([\"name\"]);\n        saveCanvasState(newCanvasState);\n        sessionStorage.myFabricJSCanvas = JSON.stringify(newCanvasState);\n      }\n    } else {\n      canvas.selection = true;\n      canvas.forEachObject(function (o) {\n        o.selectable = true;\n      });\n    }\n\n    canvas.on(\"object:rotating\", function (options) {\n      if (!snap.current) return;\n      var angle = options.target.angle;\n      var locked = Math.ceil(options.target.angle / 5) * 5;\n\n      if (Math.abs(angle - locked) < 10 || Math.abs(locked - angle) < 10) {\n        angle = locked;\n      }\n\n      options.target.set({\n        angle: angle\n      });\n    }); //canvas.on(\"object:added\", onObjectModified);\n    // canvas.on(\"object:modified\", onObjectModified);\n\n    canvas.on(\"object:modified\", function (e) {\n      const newCanvasState = e.target.canvas.toJSON([\"name\"]);\n      past.push(newCanvasState);\n      setPast(past);\n      console.log(past);\n      setFuture([]);\n      sessionStorage.clear();\n      sessionStorage.myFabricJSCanvas = JSON.stringify(newCanvasState);\n      sessionStorage.setItem(\"history\", JSON.stringify(past));\n    });\n    canvas.on(\"mouse:dblclick\", function (e) {\n      if (canvasTool === \"polygon\") {\n        canvas.remove(line.current);\n\n        for (var i = 0; i < polyLines.current.length; i++) {\n          canvas.remove(polyLines.current[i]);\n        }\n\n        newShape.current = true;\n        isDrawing.current = false;\n        var polyGon = null;\n        polyGon = new fabric.Polygon(polyPoints.current, {\n          stroke: \"rgba(\" + stroke.r + \", \" + stroke.g + \", \" + stroke.b + \", \" + stroke.a + \")\",\n          fill: \"rgba(\" + fill.r + \", \" + fill.g + \", \" + fill.b + \", \" + fill.a + \")\",\n          strokeWidth: strokeWidth,\n          selectable: false,\n          hoverCursor: \"default\",\n          name: \"shape-polygon-\" + shapeCount.current\n        });\n        canvas.add(polyGon);\n        editPoly.current = true;\n        canvas.setActiveObject(polyGon);\n        canvas.renderAll();\n        shapeCount.current++;\n        const newCanvasState = canvas.toJSON([\"name\"]); // setCanvasState(newCanvasState);\n        // Save state to History and Limit history depth to 32\n        // setCanvasHistory ((history) => [...history, newCanvasState].slice(-32));\n\n        saveCanvasState(newCanvasState);\n      }\n\n      if (canvasTool === \"polyline\") {\n        canvas.remove(line.current);\n\n        for (i = 0; i < polyLines.current.length; i++) {\n          canvas.remove(polyLines.current[i]);\n        }\n\n        newShape.current = true;\n        isDrawing.current = false;\n        var maxX = Math.max(polyPoints.current[0].x, polyPoints.current[polyPoints.current.length - 1].x);\n        var minX = Math.min(polyPoints.current[0].x, polyPoints.current[polyPoints.current.length - 1].x);\n        var maxY = Math.max(polyPoints.current[0].y, polyPoints.current[polyPoints.current.length - 1].y);\n        var minY = Math.min(polyPoints.current[0].y, polyPoints.current[polyPoints.current.length - 1].y);\n        var xDiff = maxX - minX;\n        var yDiff = maxY - minY;\n        var distance = Math.sqrt(xDiff * xDiff + yDiff * yDiff); //console.log(distance);\n\n        var polyLine = null;\n\n        if (distance <= 10) {\n          polyLine = new fabric.Polyline(polyPoints.current, {\n            stroke: \"rgba(\" + stroke.r + \", \" + stroke.g + \", \" + stroke.b + \", \" + stroke.a + \")\",\n            fill: \"rgba(\" + fill.r + \", \" + fill.g + \", \" + fill.b + \", \" + fill.a + \")\",\n            strokeWidth: strokeWidth,\n            selectable: false,\n            hoverCursor: \"default\",\n            name: \"shape-polyline-\" + shapeCount.current\n          });\n        } else {\n          polyLine = new fabric.Polyline(polyPoints.current, {\n            stroke: \"rgba(\" + stroke.r + \", \" + stroke.g + \", \" + stroke.b + \", \" + stroke.a + \")\",\n            fill: \"\",\n            strokeWidth: strokeWidth,\n            selectable: false,\n            hoverCursor: \"default\",\n            name: \"shape-polyline-\" + shapeCount.current\n          });\n        }\n\n        canvas.add(polyLine);\n        canvas.setActiveObject(polyLine);\n        editPoly.current = true;\n        canvas.renderAll();\n        shapeCount.current++;\n        const newCanvasState = canvas.toJSON([\"name\"]); // setCanvasState(newCanvasState);\n        // Save state to History and Limit history depth to 32\n        //  setCanvasHistory((history) => [...history, newCanvasState].slice(-32));\n\n        saveCanvasState(newCanvasState);\n      }\n\n      if (canvasTool === \"select\") {\n        if (e.target.type === \"polyline\" && editPoly.current) {\n          canvas.forEachObject(function (o) {\n            if (o.name.includes(\"anchor\")) {\n              canvas.remove(o);\n            }\n          });\n          anchors.current = [];\n          polyType.current = \"polyline\"; // polyPoints = [];\n\n          var editable = e.target;\n          openPoly.current = editable; //for future hiding the anchor points.\n\n          editable.set({\n            hasControls: false,\n            hasBorders: false,\n            selectable: false,\n            hoverCursor: \"default\"\n          });\n          editPoly.current = false; // console.log(editable.get(\"points\"));\n\n          var str = editable.get(\"name\");\n          var id = str.split(\"-\");\n          var matrix = editable.calcTransformMatrix();\n          var transformedPoints = editable.get(\"points\").map(function (p) {\n            return new fabric.Point(p.x - editable.pathOffset.x, p.y - editable.pathOffset.y);\n          }).map(function (p) {\n            return fabric.util.transformPoint(p, matrix);\n          });\n          var pFill = editable.get(\"fill\");\n          var pStroke = editable.get(\"stroke\");\n          var pName = editable.get(\"name\");\n          canvas.remove(editable);\n          var updatedPoly = new fabric.Polyline(transformedPoints, {\n            fill: pFill,\n            stroke: pStroke,\n            name: pName,\n            hasControls: false,\n            hasBorders: false,\n            selectable: false,\n            hoverCursor: \"default\"\n          });\n          canvas.add(updatedPoly);\n          canvas.sendToBack(updatedPoly);\n          anchors.current = [];\n          transformedPoints.forEach(function (p, index) {\n            var anchor = new fabric.Circle({\n              left: p.x,\n              top: p.y,\n              radius: 15,\n              fill: \"green\",\n              originX: \"center\",\n              originY: \"center\",\n              hasControls: false,\n              hasBorders: false,\n              name: \"anchor-\" + id[2] + \"-\" + index\n            });\n            canvas.add(anchor);\n            anchors.current.push(anchor);\n          });\n          canvas.renderAll();\n          return;\n        }\n\n        if (e.target.type === \"polyline\" && !editPoly.current) {\n          polyType.current = \"\";\n          editable = e.target;\n          editable.set({\n            hasControls: true,\n            hasBorders: true,\n            selectable: true,\n            hoverCursor: \"move\"\n          });\n          editPoly.current = true;\n          anchors.current.forEach(function (anchor) {\n            canvas.remove(anchor);\n          });\n          anchors.current = [];\n          openPoly.current = null;\n          canvas.renderAll();\n          return;\n        }\n\n        if (e.target.type === \"polygon\" && editPoly.current) {\n          if (e.target.name.includes(\"rpolygon\")) return;\n          canvas.forEachObject(function (o) {\n            if (o.name.includes(\"anchor\")) {\n              canvas.remove(o);\n            }\n          });\n          anchors.current = [];\n          polyType.current = \"polygon\"; // polyPoints = [];\n\n          editable = e.target;\n          openPoly.current = editable; //for future hiding the anchor points.\n\n          editable.set({\n            hasControls: false,\n            hasBorders: false,\n            selectable: false,\n            hoverCursor: \"default\"\n          });\n          editPoly.current = false; // console.log(editable.get(\"points\"));\n\n          str = editable.get(\"name\");\n          id = str.split(\"-\");\n          matrix = editable.calcTransformMatrix();\n          transformedPoints = editable.get(\"points\").map(function (p) {\n            return new fabric.Point(p.x - editable.pathOffset.x, p.y - editable.pathOffset.y);\n          }).map(function (p) {\n            return fabric.util.transformPoint(p, matrix);\n          });\n          pFill = editable.get(\"fill\");\n          pStroke = editable.get(\"stroke\");\n          pName = editable.get(\"name\");\n          canvas.remove(editable);\n          updatedPoly = new fabric.Polygon(transformedPoints, {\n            fill: pFill,\n            stroke: pStroke,\n            name: pName,\n            hasControls: false,\n            hasBorders: false,\n            selectable: false,\n            hoverCursor: \"default\"\n          });\n          canvas.add(updatedPoly);\n          canvas.sendToBack(updatedPoly);\n          anchors.current = [];\n          transformedPoints.forEach(function (p, index) {\n            var anchor = new fabric.Circle({\n              left: p.x,\n              top: p.y,\n              radius: 15,\n              fill: \"green\",\n              originX: \"center\",\n              originY: \"center\",\n              hasControls: false,\n              hasBorders: false,\n              name: \"anchor-\" + id[2] + \"-\" + index\n            });\n            canvas.add(anchor);\n            anchors.current.push(anchor);\n          });\n          canvas.renderAll();\n          return;\n        }\n\n        if (e.target.type === \"polygon\" && !editPoly.current) {\n          if (e.target.name.includes(\"rpolygon\")) return;\n          polyType.current = \"\";\n          editable = e.target;\n          editable.set({\n            hasControls: true,\n            hasBorders: true,\n            selectable: true,\n            hoverCursor: \"move\"\n          });\n          editPoly.current = true;\n          anchors.current.forEach(function (anchor) {\n            canvas.remove(anchor);\n          });\n          anchors.current = [];\n          canvas.renderAll();\n          return;\n        }\n      }\n    });\n    canvas.on(\"object:moving\", function (options) {\n      if (options.target.type !== \"circle\") {\n        if (openPoly.current !== null) {\n          openPoly.current = null;\n          editPoly.current = true;\n          anchors.current.forEach(function (anchor) {\n            canvas.remove(anchor);\n          });\n          anchors.current = [];\n          canvas.renderAll();\n          return;\n        }\n      }\n\n      if (options.target.type === \"circle\") {\n        var p = options.target; //console.log(p.get(\"name\"));\n\n        if (p.name.includes(\"circle\")) return;\n        if (p.name.includes(\"arc\")) return;\n        var str = p.name.split(\"-\");\n\n        if (polyType.current === \"polyline\") {\n          var pname = \"shape-polyline-\" + str[1];\n        }\n\n        if (polyType.current === \"polygon\") {\n          pname = \"shape-polygon-\" + str[1];\n        } //console.log(pname);\n\n\n        var object = null;\n        var objects = canvas.getObjects();\n\n        for (var i = 0; i < objects.length; i++) {\n          if (objects[i].name && objects[i].name === pname) {\n            object = objects[i];\n            break;\n          }\n        } // console.log(object);\n\n\n        object.points[str[2]] = {\n          x: p.getCenterPoint().x,\n          y: p.getCenterPoint().y\n        }; //console.log(p.getCenterPoint());\n\n        var pFill = object.get(\"fill\");\n        var pStroke = object.get(\"stroke\");\n        var pName = object.get(\"name\");\n        var pPoints = object.get(\"points\"); //UNCOMMENT LINES 39 - 42 TO HAVE A WORKAROUND\n\n        canvas.remove(object);\n\n        if (polyType.current === \"polyline\") {\n          var updatedPoly = new fabric.Polyline(pPoints, {\n            fill: pFill,\n            stroke: pStroke,\n            name: pName,\n            hasControls: false,\n            hasBorders: false,\n            selectable: false,\n            hoverCursor: \"default\"\n          });\n        }\n\n        if (polyType.current === \"polygon\") {\n          updatedPoly = new fabric.Polygon(pPoints, {\n            fill: pFill,\n            stroke: pStroke,\n            name: pName,\n            hasControls: false,\n            hasBorders: false,\n            selectable: false,\n            hoverCursor: \"default\"\n          });\n        }\n\n        canvas.add(updatedPoly);\n        canvas.sendToBack(updatedPoly);\n        canvas.renderAll();\n      }\n    });\n    canvas.on(\"mouse:up\", function (e) {\n      this.setViewportTransform(this.viewportTransform);\n      this.isDragging = false;\n      if (e.button === 2) return; // this.selection = true;\n\n      if (canvas.isDrawingMode) {\n        var allObjects = canvas.getObjects();\n        var path = allObjects[allObjects.length - 1];\n        path.set({\n          name: \"shape-path-\" + shapeCount.current\n        }); //console.log(path);\n\n        shapeCount.current = shapeCount.current + 1;\n        canvas.setActiveObject(allObjects[allObjects.length - 1]);\n        canvas.renderAll(); //canvas.selection = true;\n\n        const newCanvasState = canvas.toJSON([\"name\"]); // setCanvasState(newCanvasState);\n        // Save state to History and Limit history depth to 32\n        // setCanvasHistory((history) => [...history, newCanvasState].slice(-32));\n\n        saveCanvasState(newCanvasState); // }\n      }\n\n      if (canvasTool === \"text\") {\n        //console.log(canvas.getObjects());\n        pointer.current = canvas.getPointer(e);\n        var text = new fabric.IText(\"Click to edit\", {\n          left: pointer.current.x,\n          top: pointer.current.y,\n          fontFamily: \"Arial\",\n          fontSize: \"30\",\n          // fontWeight: \"regular\",\n          //stroke: stroke,\n          // strokeWidth: strokeWidth,\n          // selectable: false,\n          hoverCursor: \"default\",\n          name: \"shape-text-\" + shapeCount.current\n        }); //console.log(text);\n\n        canvas.add(text);\n        document.getElementById(\"select\").click();\n        canvas.setActiveObject(text);\n        canvas.renderAll();\n        shapeCount.current = shapeCount.current + 1; // Save the canvas to State variable\n\n        const newCanvasState = canvas.toJSON([\"name\"]);\n        saveCanvasState(newCanvasState);\n      }\n\n      if (canvasTool === \"line\") {\n        if (newShape.current) {\n          pointer.current = canvas.getPointer(e);\n          var points = [pointer.current.x, pointer.current.y, pointer.current.x, pointer.current.y];\n          line.current = new fabric.Line(points, {\n            strokeWidth: strokeWidth,\n            stroke: \"rgba(\" + stroke.r + \", \" + stroke.g + \", \" + stroke.b + \", \" + stroke.a + \")\",\n            originX: \"center\",\n            originY: \"center\",\n            //selectable: false,\n            hoverCursor: \"default\",\n            name: \"shape-line-\" + shapeCount.current\n          });\n          canvas.add(line.current);\n          shapeCount.current = shapeCount.current + 1;\n          newShape.current = false;\n        } else {\n          pointer.current = canvas.getPointer(e);\n          line.current.set({\n            x2: pointer.current.x,\n            y2: pointer.current.y\n          });\n          canvas.setActiveObject(line.current);\n          canvas.renderAll();\n          newShape.current = true; // Save the canvas to State variable\n\n          const newCanvasState = canvas.toJSON([\"name\"]);\n          saveCanvasState(newCanvasState);\n        }\n      }\n\n      if (canvasTool === \"arrow\") {\n        if (newShape.current) {\n          pointer.current = canvas.getPointer(e);\n          let arrowLinePoints = [pointer.current.x, pointer.current.y, pointer.current.x, pointer.current.y];\n          line.current = new fabric.Line(arrowLinePoints, {\n            stroke: \"rgba(\" + stroke.r + \", \" + stroke.g + \", \" + stroke.b + \", \" + stroke.a + \")\",\n            strokeWidth: strokeWidth\n          }); // reference points for arrowhead\n\n          origX.current = line.current.x2;\n          origY.current = line.current.y2;\n          let dx = line.current.x2 - line.current.x1,\n              dy = line.current.y2 - line.current.y1;\n          /* calculate angle.current of arrow.current */\n\n          angle.current = Math.atan2(dy, dx);\n          angle.current *= 180 / Math.PI;\n          angle.current += 90;\n          arrow.current = new fabric.Triangle({\n            angle: angle.current,\n            fill: \"rgba(\" + fill.r + \", \" + fill.g + \", \" + fill.b + \", \" + fill.a + \")\",\n            top: line.current.y2,\n            left: line.current.x2,\n            width: 15,\n            height: 15,\n            originX: \"center\",\n            originY: \"center\",\n            stroke: \"rgba(\" + stroke.r + \", \" + stroke.g + \", \" + stroke.b + \", \" + stroke.a + \")\",\n            strokeWidth: strokeWidth\n          });\n          canvas.add(line.current);\n          canvas.add(arrow.current);\n          canvas.renderAll();\n          newShape.current = false;\n        } else {\n          canvas.remove(line.current);\n          canvas.remove(arrow.current);\n          selectedShape.current = new fabric.Group([line.current, arrow.current], {\n            hasBorders: true,\n            hasControls: true,\n            selectable: false,\n            hoverCursor: \"default\"\n          });\n          shapeCount.current = shapeCount.current + 1;\n          selectedShape.current.set(\"name\", \"shape-arrow-\" + shapeCount.current + 1);\n          canvas.add(selectedShape.current);\n          canvas.setActiveObject(selectedShape.current);\n          newShape.current = true; // Save the canvas to State variable\n\n          const newCanvasState = canvas.toJSON([\"name\"]); // setCanvasState(newCanvasState);\n          // Save state to History and Limit history depth to 32\n          //  setCanvasHistory((history) =>\n          //   [...history, newCanvasState].slice(-32)\n          //  );\n\n          saveCanvasState(newCanvasState);\n        }\n      }\n\n      if (canvasTool === \"polyline\") {\n        if (newShape.current) {\n          polyPoints.current = [];\n          isDrawing.current = true;\n          pointer.current = canvas.getPointer(e);\n          polyPoints.current.push(pointer.current);\n          line.current = new fabric.Line([pointer.current.x, pointer.current.y, pointer.current.x, pointer.current.y], {\n            stroke: \"rgba(\" + stroke.r + \", \" + stroke.g + \", \" + stroke.b + \", \" + stroke.a + \")\",\n            strokeWidth: strokeWidth,\n            hasControls: false,\n            hasBorders: false,\n            selectable: false,\n            lockMovementX: true,\n            lockMovementY: true,\n            hoverCursor: \"default\",\n            originX: \"center\",\n            originY: \"center\"\n          });\n          canvas.add(line.current); //polyLines.current.push(polyline);\n\n          newShape.current = false;\n        } else {\n          pointer.current = canvas.getPointer(e);\n          line.current.set({\n            x1: pointer.current.x,\n            y1: pointer.current.y\n          });\n          polyPoints.current.push(pointer.current);\n\n          if (polyPoints.current.length > 1) {\n            var startPoint = polyPoints.current[polyPoints.current.length - 2];\n            var endPoint = polyPoints.current[polyPoints.current.length - 1];\n            var newPolyLine = new fabric.Line([startPoint.x, startPoint.y, endPoint.x, endPoint.y], {\n              stroke: \"rgba(\" + stroke.r + \", \" + stroke.g + \", \" + stroke.b + \", \" + stroke.a + \")\",\n              strokeWidth: strokeWidth,\n              hasControls: false,\n              hasBorders: false,\n              selectable: false,\n              lockMovementX: true,\n              lockMovementY: true,\n              hoverCursor: \"default\",\n              originX: \"center\",\n              originY: \"center\"\n            });\n            canvas.add(newPolyLine);\n            polyLines.current.push(newPolyLine);\n            canvas.renderAll();\n          }\n        }\n      }\n\n      if (canvasTool === \"polygon\") {\n        if (newShape.current) {\n          polyPoints.current = [];\n          isDrawing.current = true;\n          pointer.current = canvas.getPointer(e);\n          polyPoints.current.push(pointer.current);\n          line.current = new fabric.Line([pointer.current.x, pointer.current.y, pointer.current.x, pointer.current.y], {\n            stroke: \"rgba(\" + stroke.r + \", \" + stroke.g + \", \" + stroke.b + \", \" + stroke.a + \")\",\n            strokeWidth: strokeWidth,\n            hasControls: false,\n            hasBorders: false,\n            selectable: false,\n            lockMovementX: true,\n            lockMovementY: true,\n            hoverCursor: \"default\",\n            originX: \"center\",\n            originY: \"center\"\n          });\n          canvas.add(line.current);\n          newShape.current = false;\n        } else {\n          pointer.current = canvas.getPointer(e);\n          line.current.set({\n            x1: pointer.current.x,\n            y1: pointer.current.y\n          });\n          polyPoints.current.push(pointer.current);\n\n          if (polyPoints.current.length > 1) {\n            startPoint = polyPoints.current[polyPoints.current.length - 2];\n            endPoint = polyPoints.current[polyPoints.current.length - 1];\n            newPolyLine = new fabric.Line([startPoint.x, startPoint.y, endPoint.x, endPoint.y], {\n              stroke: \"rgba(\" + stroke.r + \", \" + stroke.g + \", \" + stroke.b + \", \" + stroke.a + \")\",\n              strokeWidth: strokeWidth,\n              hasControls: false,\n              hasBorders: false,\n              selectable: false,\n              lockMovementX: true,\n              lockMovementY: true,\n              hoverCursor: \"default\",\n              originX: \"center\",\n              originY: \"center\"\n            });\n            canvas.add(newPolyLine);\n            polyLines.current.push(newPolyLine);\n            canvas.renderAll();\n          }\n        }\n      }\n\n      if (canvasTool === \"rpolygon\") {\n        if (newShape.current) {\n          pointer.current = canvas.getPointer(e);\n          origX.current = pointer.current.x;\n          origY.current = pointer.current.y;\n          rpolygon.current = new fabric.Polygon(calcPolygonPoints(8, Math.abs(origX.current - pointer.current.x) / 2), {\n            objectCaching: false,\n            left: origX.current,\n            top: origY.current,\n            originX: \"center\",\n            originY: \"center\",\n            fill: \"rgba(\" + fill.r + \", \" + fill.g + \", \" + fill.b + \", \" + fill.a + \")\",\n            perPixelTargetFind: false,\n            strokeWidth: strokeWidth,\n            stroke: \"rgba(\" + stroke.r + \", \" + stroke.g + \", \" + stroke.b + \", \" + stroke.a + \")\",\n            hasControls: false,\n            hasBorders: false,\n            name: \"shape-rpolygon-\" + shapeCount.current\n          });\n          canvas.add(rpolygon.current);\n          newShape.current = false;\n          shapeCount.current++;\n        } else {\n          newShape.current = true;\n          var matrix = rpolygon.current.calcTransformMatrix();\n          var transformedPoints = rpolygon.current.get(\"points\").map(function (p) {\n            return new fabric.Point(p.x - rpolygon.current.pathOffset.x, p.y - rpolygon.current.pathOffset.y);\n          }).map(function (p) {\n            return fabric.util.transformPoint(p, matrix);\n          });\n          canvas.remove(rpolygon.current);\n          var updatedPoly = new fabric.Polygon(transformedPoints, {\n            fill: \"rgba(\" + fill.r + \", \" + fill.g + \", \" + fill.b + \", \" + fill.a + \")\",\n            stroke: \"rgba(\" + stroke.r + \", \" + stroke.g + \", \" + stroke.b + \", \" + stroke.a + \")\",\n            name: \"shape-rpolygon-\" + shapeCount.current,\n            // hasControls: false,\n            // hasBorders: false,\n            //selectable: false,\n            hoverCursor: \"default\"\n          });\n          canvas.add(updatedPoly);\n          canvas.setActiveObject(updatedPoly);\n          canvas.renderAll(); // Save the canvas to State variable\n\n          const newCanvasState = canvas.toJSON([\"name\"]);\n          saveCanvasState(newCanvasState);\n        }\n      }\n\n      if (canvasTool === \"rect\") {\n        if (newShape.current) {\n          pointer.current = canvas.getPointer(e);\n          origX.current = pointer.current.x;\n          origY.current = pointer.current.y;\n          Rectangle.current = new fabric.Rect({\n            left: origX.current,\n            top: origY.current,\n            fill: \"rgba(\" + fill.r + \", \" + fill.g + \", \" + fill.b + \", \" + fill.a + \")\",\n            stroke: \"rgba(\" + stroke.r + \", \" + stroke.g + \", \" + stroke.b + \", \" + stroke.a + \")\",\n            strokeWidth: strokeWidth,\n            strokeDashArray: [dashSize, gapSize],\n            opacity: opacity,\n            selectable: false,\n            hoverCursor: \"default\",\n            name: \"shape-rect-\" + shapeCount.current\n          });\n          shapeCount.current++;\n          canvas.add(Rectangle.current);\n          newShape.current = false;\n        } else {\n          pointer.current = canvas.getPointer(e);\n\n          if (origX.current > pointer.current.x) {\n            Rectangle.current.set({\n              left: Math.abs(pointer.current.x)\n            });\n          }\n\n          if (origY.current > pointer.current.y) {\n            Rectangle.current.set({\n              top: Math.abs(pointer.current.y)\n            });\n          }\n\n          Rectangle.current.set({\n            width: Math.abs(origX.current - pointer.current.x)\n          });\n          Rectangle.current.set({\n            height: Math.abs(origY.current - pointer.current.y)\n          });\n          newShape.current = true;\n          canvas.setActiveObject(Rectangle.current);\n          canvas.renderAll(); // Save the canvas to State variable\n\n          const newCanvasState = canvas.toJSON([\"name\"]); // setCanvasState(newCanvasState);\n          // Save state to History and Limit history depth to 32\n          // setCanvasHistory((history) =>\n          //    [...history, newCanvasState].slice(-32)\n          //  );\n\n          saveCanvasState(newCanvasState);\n        }\n      }\n\n      if (canvasTool === \"arc\") {\n        if (newShape.current) {\n          pointer.current = canvas.getPointer(e);\n          origX.current = pointer.current.x;\n          origY.current = pointer.current.y;\n          circle.current = new fabric.Circle({\n            left: origX.current,\n            top: origY.current,\n            originX: \"left\",\n            originY: \"top\",\n            radius: pointer.current.x - origX.current,\n            angle: 45,\n            startAngle: 0,\n            endAngle: Math.PI,\n            fill: \"rgba(\" + fill.r + \", \" + fill.g + \", \" + fill.b + \", \" + fill.a + \")\",\n            stroke: \"rgba(\" + stroke.r + \", \" + stroke.g + \", \" + stroke.b + \", \" + stroke.a + \")\",\n            strokeWidth: strokeWidth,\n            selectable: false,\n            hoverCursor: \"default\",\n            name: \"shape-arc-\" + shapeCount.current\n          });\n          canvas.add(circle.current);\n          newShape.current = false;\n          shapeCount.current++;\n        } else {\n          pointer.current = canvas.getPointer(e);\n          var radius = Math.max(Math.abs(origY.current - pointer.current.y), Math.abs(origX.current - pointer.current.x)) / 2;\n\n          if (radius > circle.current.strokeWidth) {\n            radius -= circle.current.strokeWidth / 2;\n          }\n\n          circle.current.set({\n            radius: radius\n          });\n\n          if (origX.current > pointer.current.x) {\n            circle.current.set({\n              originX: \"right\"\n            });\n          } else {\n            circle.current.set({\n              originX: \"left\"\n            });\n          }\n\n          if (origY.current > pointer.current.y) {\n            circle.current.set({\n              originY: \"bottom\"\n            });\n          } else {\n            circle.current.set({\n              originY: \"top\"\n            });\n          }\n\n          newShape.current = true;\n          canvas.setActiveObject(circle.current);\n          canvas.renderAll(); // Save the canvas to State variable\n\n          const newCanvasState = canvas.toJSON([\"name\"]); // setCanvasState(newCanvasState);\n          // Save state to History and Limit history depth to 32\n          ///  setCanvasHistory((history) =>\n          //    [...history, newCanvasState].slice(-32)\n          // );\n\n          saveCanvasState(newCanvasState);\n        }\n      }\n\n      if (canvasTool === \"circle\") {\n        if (newShape.current) {\n          pointer.current = canvas.getPointer(e);\n          origX.current = pointer.current.x;\n          origY.current = pointer.current.y;\n          circle.current = new fabric.Circle({\n            left: origX.current,\n            top: origY.current,\n            originX: \"left\",\n            originY: \"top\",\n            radius: pointer.current.x - origX.current,\n            angle: 0,\n            fill: \"rgba(\" + fill.r + \", \" + fill.g + \", \" + fill.b + \", \" + fill.a + \")\",\n            stroke: \"rgba(\" + stroke.r + \", \" + stroke.g + \", \" + stroke.b + \", \" + stroke.a + \")\",\n            strokeWidth: strokeWidth,\n            selectable: false,\n            hoverCursor: \"default\",\n            name: \"shape-circle-\" + shapeCount.current\n          });\n          canvas.add(circle.current);\n          newShape.current = false;\n          shapeCount.current++;\n        } else {\n          pointer.current = canvas.getPointer(e);\n          radius = Math.max(Math.abs(origY.current - pointer.current.y), Math.abs(origX.current - pointer.current.x)) / 2;\n\n          if (radius > circle.current.strokeWidth) {\n            radius -= circle.current.strokeWidth / 2;\n          }\n\n          circle.current.set({\n            radius: radius\n          });\n\n          if (origX.current > pointer.current.x) {\n            circle.current.set({\n              originX: \"right\"\n            });\n          } else {\n            circle.current.set({\n              originX: \"left\"\n            });\n          }\n\n          if (origY.current > pointer.current.y) {\n            circle.current.set({\n              originY: \"bottom\"\n            });\n          } else {\n            circle.current.set({\n              originY: \"top\"\n            });\n          }\n\n          newShape.current = true;\n          canvas.setActiveObject(circle.current);\n          canvas.renderAll(); // Save the canvas to State variable\n\n          const newCanvasState = canvas.toJSON([\"name\"]); // setCanvasState(newCanvasState);\n          // Save state to History and Limit history depth to 32\n          //  setCanvasHistory((history) =>\n          //    [...history, newCanvasState].slice(-32)\n          //  );\n\n          saveCanvasState(newCanvasState);\n        }\n      }\n\n      if (canvasTool === \"ellipse\") {\n        if (newShape.current) {\n          pointer.current = canvas.getPointer(e);\n          origX.current = pointer.current.x;\n          origY.current = pointer.current.y;\n          ellipse.current = new fabric.Ellipse({\n            left: origX.current,\n            top: origY.current,\n            originX: \"left\",\n            originY: \"top\",\n            rx: pointer.current.x - origX.current,\n            ry: pointer.current.y - origY.current,\n            angle: 0,\n            fill: \"rgba(\" + fill.r + \", \" + fill.g + \", \" + fill.b + \", \" + fill.a + \")\",\n            stroke: \"rgba(\" + stroke.r + \", \" + stroke.g + \", \" + stroke.b + \", \" + stroke.a + \")\",\n            strokeWidth: strokeWidth,\n            type: \"ellipse\",\n            selectable: false,\n            hoverCursor: \"default\",\n            name: \"shape-ellipse-\" + shapeCount.current\n          });\n          canvas.add(ellipse.current);\n          newShape.current = false;\n        } else {\n          pointer.current = canvas.getPointer(e);\n          var rx = Math.abs(origX.current - pointer.current.x) / 2;\n          var ry = Math.abs(origY.current - pointer.current.y) / 2;\n\n          if (rx > ellipse.current.strokeWidth) {\n            rx -= ellipse.current.strokeWidth / 2;\n          }\n\n          if (ry > ellipse.current.strokeWidth) {\n            ry -= ellipse.current.strokeWidth / 2;\n          }\n\n          ellipse.current.set({\n            rx: rx,\n            ry: ry\n          });\n\n          if (origX.current > pointer.current.x) {\n            ellipse.current.set({\n              originX: \"right\"\n            });\n          } else {\n            ellipse.current.set({\n              originX: \"left\"\n            });\n          }\n\n          if (origY.current > pointer.current.y) {\n            ellipse.current.set({\n              originY: \"bottom\"\n            });\n          } else {\n            ellipse.current.set({\n              originY: \"top\"\n            });\n          }\n\n          newShape.current = true;\n          canvas.setActiveObject(ellipse.current);\n          canvas.renderAll(); // Save the canvas to State variable\n\n          const newCanvasState = canvas.toJSON([\"name\"]); // setCanvasState(newCanvasState);\n          // Save state to History and Limit history depth to 32\n          //  setCanvasHistory((history) =>\n          //    [...history, newCanvasState].slice(-32)\n          //  );\n\n          saveCanvasState(newCanvasState);\n        }\n      } //check if user clicked an object\n\n\n      if (e.target) {\n        if (!editPoly.current) return;\n        var activeShape = canvas.getActiveObject(); //if (activeShape.length > 1) return;\n        // console.log(activeShape.type);\n\n        if (activeShape) {\n          if (activeShape.stroke && activeShape.type !== \"i-text\") {\n            if (currentStroke.current !== null) {\n              var rgba = currentStroke.current.substr(5).split(\")\")[0].split(\",\");\n              setStrokeColor({\n                r: rgba[0],\n                g: rgba[1],\n                b: rgba[2],\n                a: rgba[3]\n              });\n            }\n\n            setStrokeWidth(activeShape.strokeWidth);\n          }\n\n          if (activeShape.fill) {\n            rgba = activeShape.fill.substr(5).split(\")\")[0].split(\",\");\n            setFillColor({\n              r: rgba[0],\n              g: rgba[1],\n              b: rgba[2],\n              a: rgba[3]\n            });\n          } //console.log(activeShape.opacity);\n\n\n          if (Number.isNaN(activeShape.opacity)) setOpacity(100);else setOpacity(activeShape.opacity * 100); //setOpacity(activeShape.opacity * 100);\n          //setFont(activeShape.fontFamily);\n          ///setFontSize(activeShape.fontSize);\n          //setFontWeight(activeShape.fontWeight);\n          //setFontStyle(activeShape.fontStyle);\n        }\n      }\n    });\n    canvas.on(\"mouse:wheel\", function (opt) {\n      var delta = opt.e.deltaY;\n      var zoom = canvas.getZoom();\n      zoom *= 0.999 ** delta;\n      if (zoom > 20) zoom = 20;\n      if (zoom < 0.01) zoom = 0.01;\n      canvas.zoomToPoint({\n        x: opt.e.offsetX,\n        y: opt.e.offsetY\n      }, zoom);\n      opt.e.preventDefault();\n      opt.e.stopPropagation();\n      var vpt = this.viewportTransform;\n\n      if (zoom < 400 / 1000) {\n        vpt[4] = 200 - 1000 * zoom / 2;\n        vpt[5] = 200 - 1000 * zoom / 2;\n      } else {\n        if (vpt[4] >= 0) {\n          vpt[4] = 0;\n        } else if (vpt[4] < canvas.getWidth() - 1000 * zoom) {\n          vpt[4] = canvas.getWidth() - 1000 * zoom;\n        }\n\n        if (vpt[5] >= 0) {\n          vpt[5] = 0;\n        } else if (vpt[5] < canvas.getHeight() - 1000 * zoom) {\n          vpt[5] = canvas.getHeight() - 1000 * zoom;\n        }\n      }\n    });\n    canvas.on(\"mouse:down\", function (opt) {\n      if (canvasTool !== \"select\") {\n        this.selection = false;\n      }\n\n      var evt = opt.e;\n\n      if (opt.button === 2) {\n        this.isDragging = true;\n        this.selection = false;\n        this.lastPosX = evt.clientX;\n        this.lastPosY = evt.clientY;\n      }\n    });\n    canvas.on(\"mouse:move\", function (opt) {\n      if (this.isDragging) {\n        var e = opt.e;\n        var vpt = this.viewportTransform;\n        vpt[4] += e.clientX - this.lastPosX;\n        vpt[5] += e.clientY - this.lastPosY;\n        this.requestRenderAll();\n        this.lastPosX = e.clientX;\n        this.lastPosY = e.clientY;\n      }\n\n      if (newShape.current === true && canvasTool !== \"pen\") {\n        return;\n      }\n\n      if (canvasTool === \"rect\") {\n        pointer.current = canvas.getPointer(opt);\n\n        if (origX.current > pointer.current.x) {\n          Rectangle.current.set({\n            left: Math.abs(pointer.current.x)\n          });\n        }\n\n        if (origY.current > pointer.current.y) {\n          Rectangle.current.set({\n            top: Math.abs(pointer.current.y)\n          });\n        }\n\n        Rectangle.current.set({\n          width: Math.abs(origX.current - pointer.current.x)\n        });\n        Rectangle.current.set({\n          height: Math.abs(origY.current - pointer.current.y)\n        });\n        canvas.renderAll();\n      }\n\n      if (canvasTool === \"line\") {\n        pointer.current = canvas.getPointer(opt);\n        line.current.set({\n          x2: pointer.current.x,\n          y2: pointer.current.y\n        });\n        canvas.renderAll();\n      }\n\n      if (canvasTool === \"arrow\") {\n        pointer.current = canvas.getPointer(opt);\n        line.current.set({\n          x2: pointer.current.x,\n          y2: pointer.current.y\n        });\n        let dx = line.current.x2 - line.current.x1,\n            dy = line.current.y2 - line.current.y1;\n        angle.current = Math.atan2(dy, dx);\n        angle.current *= 180 / Math.PI;\n        angle.current += 90;\n        arrow.current.set({\n          top: line.current.y2,\n          left: line.current.x2,\n          angle: angle.current,\n          width: 15,\n          height: 15\n        });\n        canvas.renderAll();\n      }\n\n      if (canvasTool === \"polyline\") {\n        if (isDrawing.current) {\n          var endPoint = canvas.getPointer(opt);\n          line.current.set({\n            x2: endPoint.x,\n            y2: endPoint.y\n          });\n          canvas.renderAll();\n        }\n      }\n\n      if (canvasTool === \"polygon\") {\n        if (isDrawing.current) {\n          endPoint = canvas.getPointer(opt);\n          line.current.set({\n            x2: endPoint.x,\n            y2: endPoint.y\n          });\n          canvas.renderAll();\n        }\n      }\n\n      if (canvasTool === \"rpolygon\") {\n        pointer.current = canvas.getPointer(opt);\n        rpolygon.current.set({\n          points: calcPolygonPoints(8, Math.abs(origX.current - pointer.current.x) / 2),\n          left: origX.current,\n          top: origY.current\n        });\n        canvas.renderAll();\n      }\n\n      if (canvasTool === \"arc\") {\n        pointer.current = canvas.getPointer(opt);\n        var radius = Math.max(Math.abs(origY.current - pointer.current.y), Math.abs(origX.current - pointer.current.x)) / 2;\n\n        if (radius > circle.current.strokeWidth) {\n          radius -= circle.current.strokeWidth / 2;\n        }\n\n        circle.current.set({\n          radius: radius\n        });\n\n        if (origX.current > pointer.current.x) {\n          circle.current.set({\n            originX: \"right\"\n          });\n          circle.current.set({\n            angle: -135\n          });\n        } else {\n          circle.current.set({\n            originX: \"left\"\n          });\n          circle.current.set({\n            angle: 135\n          });\n        }\n\n        if (origY.current > pointer.current.y) {\n          circle.current.set({\n            originY: \"bottom\"\n          });\n        } else {\n          circle.current.set({\n            originY: \"top\"\n          });\n        }\n\n        canvas.renderAll();\n      }\n\n      if (canvasTool === \"circle\") {\n        pointer.current = canvas.getPointer(opt);\n        radius = Math.max(Math.abs(origY.current - pointer.current.y), Math.abs(origX.current - pointer.current.x)) / 2;\n\n        if (radius > circle.current.strokeWidth) {\n          radius -= circle.current.strokeWidth / 2;\n        }\n\n        circle.current.set({\n          radius: radius\n        });\n\n        if (origX.current > pointer.current.x) {\n          circle.current.set({\n            originX: \"right\"\n          });\n        } else {\n          circle.current.set({\n            originX: \"left\"\n          });\n        }\n\n        if (origY.current > pointer.current.y) {\n          circle.current.set({\n            originY: \"bottom\"\n          });\n        } else {\n          circle.current.set({\n            originY: \"top\"\n          });\n        }\n\n        canvas.renderAll();\n      }\n\n      if (canvasTool === \"ellipse\") {\n        pointer.current = canvas.getPointer(opt);\n        var rx = Math.abs(origX.current - pointer.current.x) / 2;\n        var ry = Math.abs(origY.current - pointer.current.y) / 2;\n\n        if (rx > ellipse.current.strokeWidth) {\n          rx -= ellipse.current.strokeWidth / 2;\n        }\n\n        if (ry > ellipse.current.strokeWidth) {\n          ry -= ellipse.current.strokeWidth / 2;\n        }\n\n        ellipse.current.set({\n          rx: rx,\n          ry: ry\n        });\n\n        if (origX.current > pointer.current.x) {\n          ellipse.current.set({\n            originX: \"right\"\n          });\n        } else {\n          ellipse.current.set({\n            originX: \"left\"\n          });\n        }\n\n        if (origY.current > pointer.current.y) {\n          ellipse.current.set({\n            originY: \"bottom\"\n          });\n        } else {\n          ellipse.current.set({\n            originY: \"top\"\n          });\n        }\n\n        canvas.renderAll();\n      }\n    });\n    canvas.on(\"mouse:over\", function (e) {\n      /*\n      if (e.target) {\n        //console.log(currentStroke.current);\n        currentStroke.current = e.target.get(\"stroke\");\n        //console.log(currentStroke.current);\n        e.target.set(\"stroke\", \"rgba(255,0,0,1)\");\n        canvas.renderAll();\n      }\n      */\n    });\n    canvas.on(\"mouse:out\", function (e) {\n      /*\n      if (e.target) {\n        e.target.set(\"stroke\", currentStroke.current);\n        canvas.renderAll();\n      }\n      */\n    });\n    setCanvas(canvas);\n    return () => {\n      canvas.dispose();\n    };\n  }, [canvasRef, canvasTool, setCanvas]); //const onUndo = useCallback(() => moveHistory(-1), [moveHistory]);\n\n  const onUndo = () => {\n    const present = past.pop();\n    const newFuture = [present, ...future];\n    setFuture(newFuture);\n    const previous = past[past.length - 1];\n    canvas.loadFromJSON(previous);\n    setPast(past);\n    console.log(past);\n  }; // const onRedo = useCallback(() => moveHistory(1), [moveHistory]);\n\n\n  const onRedo = () => {\n    const next = future[0];\n    canvas.loadFromJSON(next);\n    const newFuture = future.slice(1);\n    past.push(next);\n    setPast(past);\n    setFuture(newFuture);\n    console.log(future);\n  };\n\n  const setShapeAttributes = attributes => {\n    var activeShape = canvas.getActiveObject();\n\n    if (activeShape) {\n      var Attributes = attributes || {};\n\n      if (activeShape.type === \"group\") {\n        activeShape.item(0).set({\n          stroke: Attributes.stroke || activeShape.item(1).stroke\n        });\n        activeShape.item(1).set({\n          stroke: Attributes.stroke || activeShape.item(1).stroke,\n          fill: Attributes.fill || activeShape.item(1).fill\n        });\n      }\n\n      activeShape.set({\n        strokeWidth: Attributes.strokeWidth || activeShape.strokeWidth,\n        stroke: Attributes.stroke === \"nill\" ? null : Attributes.stroke || activeShape.stroke,\n        fill: Attributes.fill === \"nill\" ? null : Attributes.fill || activeShape.fill,\n        opacity: Attributes.opacity / 100 || activeShape.opacity,\n        strokeDashArray: Attributes.strokeDashArray || activeShape.strokeDashArray,\n        fontFamily: Attributes.fontFamily || activeShape.fontFamily,\n        fontSize: Attributes.fontSize || activeShape.fontSize,\n        fontWeight: Attributes.fontWeight || activeShape.fontWeight,\n        fontStyle: Attributes.fontStyle || activeShape.fontStyle,\n        textBackgroundColor: Attributes.textBackgroundColor || activeShape.textBackgroundColor\n      });\n      canvas.renderAll();\n      canvas.setActiveObject(activeShape);\n      const newCanvasState = canvas.toJSON([\"name\"]);\n      saveCanvasState(newCanvasState);\n    }\n  };\n\n  function deleteObjects() {\n    if (canvas.getActiveObjects().length === 0) {\n      // window.location.reload();\n      return;\n    }\n\n    canvas.getActiveObjects().forEach(obj => {\n      canvas.remove(obj);\n    });\n    const newCanvasState = canvas.toJSON([\"name\"]);\n    saveCanvasState(newCanvasState);\n    window.location.reload();\n  }\n\n  var simulateMouseEvent = function (element, eventName, coordX, coordY) {\n    element.dispatchEvent(new MouseEvent(eventName, {\n      view: window,\n      bubbles: true,\n      cancelable: true,\n      clientX: coordX,\n      clientY: coordY,\n      button: 0\n    }));\n  };\n  /*\n  function hexToRGB(hex, alpha) {\n    var r = parseInt(hex.slice(1, 3), 16),\n      g = parseInt(hex.slice(3, 5), 16),\n      b = parseInt(hex.slice(5, 7), 16);\n    if (alpha) {\n      return \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + alpha + \")\";\n    } else {\n      return \"rgb(\" + r + \", \" + g + \", \" + b + \")\";\n    }\n  }\n  */\n\n\n  function w3_openPanel(evt, panelId) {\n    if (currentOpenPanel !== panelId) {\n      document.getElementById(\"Library\").style.height = \"400px\";\n      document.getElementById(panelId).style.display = \"block\";\n      if (currentOpenPanel !== \"none\") document.getElementById(currentOpenPanel).style.display = \"none\";\n      currentOpenPanel = panelId;\n      return;\n    }\n\n    if (currentOpenPanel === panelId) {\n      if (panelId === \"none\") return;\n      document.getElementById(panelId).style.display = \"none\";\n      currentOpenPanel = \"none\";\n      document.getElementById(\"Library\").style.height = \"0px\";\n    }\n    /*\n    else {\n      if (currentOpenPanel !== \"None\") {\n        document.getElementById(currentOpenPanel).style.display = \"none\";\n      }\n      document.getElementById(\"Library\").style.height = \"400px\";\n      document.getElementById(panelId).style.display = \"block\";\n      currentOpenPanel = panelId;\n    }\n    */\n\n  }\n\n  const setActiveTool = (e, id) => {\n    if (currentToolId.current !== null) {\n      //console.log(currentToolId);\n      document.getElementById(currentToolId.current).style.backgroundColor = \"#003059\";\n      document.getElementById(id).style.backgroundColor = \"grey\";\n      currentToolId.current = id;\n      return;\n    } else {\n      //console.log(id);\n      document.getElementById(id).style.backgroundColor = \"grey\";\n      currentToolId.current = id;\n    }\n  };\n\n  function handleKeyDown(event) {\n    if (event.key === \"s\") {\n      setActiveTool(event, \"select\");\n      return;\n    }\n\n    if (event.key === \"Delete\") {\n      deleteObjects();\n      return;\n    }\n\n    if (event.ctrlKey && event.key === \"z\") {\n      if (past.length === 1) return;\n      onUndo();\n      return;\n    }\n\n    if (event.ctrlKey && event.key === \"y\") {\n      if (future.length === 0) return;\n      onRedo();\n      return;\n    }\n  }\n\n  let url = \"#\";\n  const swatchStyles = reactCSS({\n    default: {\n      stroke: {\n        width: \"36px\",\n        height: \"14px\",\n        borderRadius: \"2px\",\n        background: `rgba(${stroke.r}, ${stroke.g}, ${stroke.b}, ${stroke.a})`\n      },\n      blank: {\n        width: \"36px\",\n        height: \"14px\",\n        borderRadius: \"2px\"\n      },\n      fill: {\n        width: \"36px\",\n        height: \"14px\",\n        borderRadius: \"2px\",\n        background: `rgba(${fill.r}, ${fill.g}, ${fill.b}, ${fill.a})`\n      },\n      highlight: {\n        width: \"36px\",\n        height: \"14px\",\n        borderRadius: \"2px\",\n        background: `rgba(${textHighlight.r}, ${textHighlight.g}, ${textHighlight.b}, ${textHighlight.a})`\n      },\n      swatch: {\n        padding: \"0px\",\n        background: \"#fff\",\n        borderRadius: \"1px\",\n        boxShadow: \"0 0 0 1px rgba(0,0,0,.1)\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        backgroundImage: \"url(images/no.png)\"\n      },\n      pickerContainer: {\n        display: \"inline-block\"\n      },\n      popover: {\n        position: \"absolute\",\n        zIndex: \"2\"\n      },\n      cover: {\n        position: \"fixed\",\n        top: \"50px\",\n        right: \"0px\",\n        bottom: \"0px\",\n        left: \"100px\"\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(MediaQuery, {\n    minDeviceWidth: 1224,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mainDiv,\n      className: \"App\",\n      id: \"mainDiv\",\n      onKeyDown: e => {\n        handleKeyDown(e);\n        document.getElementById(\"my-fabric-canvas\").focus();\n      },\n      tabIndex: \"0\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: tbStyles.propBar,\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: url,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: tbStyles.buttontoolbar,\n            onClick: onUndo,\n            id: \"undo\" //disabled={canvasHistory[0] === canvasState}\n            ,\n            disabled: past.length === 1,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: tbStyles.tooltipDown,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/undo2.png\",\n                alt: \"Undo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2139,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: tbStyles.tooltiptextDown,\n                children: \"Undo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2140,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2138,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: tbStyles.buttontoolbar,\n            onClick: onRedo,\n            id: \"redo\" //disabled={canvasHistory[canvasHistory.length - 1] === canvasState}\n            ,\n            disabled: future.length === 0,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: tbStyles.tooltipDown,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/redo2.png\",\n                alt: \"Redo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2151,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: tbStyles.tooltiptextDown,\n                children: \"Redo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2152,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2150,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: tbStyles.buttontoolbar,\n            onClick: deleteObjects,\n            id: \"del\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: tbStyles.tooltipDown,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/delete2.png\",\n                alt: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2161,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: tbStyles.tooltiptextDown,\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2162,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2160,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2155,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: tbStyles.dropdown,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: tbStyles.buttontoolbar,\n            id: \"wList\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"images/lineWidth2.png\",\n              alt: \"Line Width\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2168,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"wlDropDown\",\n              className: tbStyles.dropdowncontent,\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                href: url,\n                onClick: e => {\n                  setStrokeWidth(1);\n                  setShapeAttributes({\n                    strokeWidth: 1\n                  });\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/stroke1.png\",\n                  alt: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2179,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2170,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: url,\n                onClick: e => {\n                  setStrokeWidth(2);\n                  setShapeAttributes({\n                    strokeWidth: 2\n                  });\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/stroke2.png\",\n                  alt: \"2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2190,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2181,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: url,\n                onClick: e => {\n                  setStrokeWidth(4);\n                  setShapeAttributes({\n                    strokeWidth: 4\n                  });\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/stroke4.png\",\n                  alt: \"4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2201,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2192,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: url,\n                onClick: e => {\n                  setStrokeWidth(5);\n                  setShapeAttributes({\n                    strokeWidth: 5\n                  });\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/stroke5.png\",\n                  alt: \"5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2212,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2203,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: url,\n                onClick: e => {\n                  setStrokeWidth(10);\n                  setShapeAttributes({\n                    strokeWidth: 10\n                  });\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/stroke10.png\",\n                  alt: \"10\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2223,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2214,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: url,\n                onClick: e => {\n                  setStrokeWidth(12);\n                  setShapeAttributes({\n                    strokeWidth: 12\n                  });\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/stroke12.png\",\n                  alt: \"12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2234,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2225,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: url,\n                onClick: e => {\n                  setStrokeWidth(15);\n                  setShapeAttributes({\n                    strokeWidth: 15\n                  });\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/stroke15.png\",\n                  alt: \"15\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2245,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2236,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: url,\n                onClick: e => {\n                  setStrokeWidth(20);\n                  setShapeAttributes({\n                    strokeWidth: 20\n                  });\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/stroke20.png\",\n                  alt: \"20\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2256,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2247,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: url,\n                onClick: e => {\n                  setStrokeWidth(25);\n                  setShapeAttributes({\n                    strokeWidth: 25\n                  });\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/stroke25.png\",\n                  alt: \"25\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2267,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2258,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2169,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2167,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: tbStyles.dropdown,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: tbStyles.buttontoolbar,\n            id: \"sList\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"images/LineStyle2.png\",\n              alt: \"Line Style\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2274,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"lsDropDown\",\n              className: tbStyles.dropdowncontent,\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                href: url,\n                onClick: e => {\n                  setDashSize(0);\n                  setGapSize(0);\n                  setShapeAttributes({\n                    strokeDashArray: [0, 0]\n                  });\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/lineStyle1.png\",\n                  alt: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2286,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2276,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: url,\n                onClick: e => {\n                  setDashSize(10);\n                  setGapSize(5);\n                  setShapeAttributes({\n                    strokeDashArray: [10, 5]\n                  });\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/lineStyle2png.png\",\n                  alt: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2298,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2288,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: url,\n                onClick: e => {\n                  setDashSize(10);\n                  setGapSize(5);\n                  setShapeAttributes({\n                    strokeDashArray: [10, 5]\n                  });\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/lineStyle3.png\",\n                  alt: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2310,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2300,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: url,\n                onClick: e => {\n                  setDashSize(20);\n                  setGapSize(5);\n                  setShapeAttributes({\n                    strokeDashArray: [20, 5]\n                  });\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/lineStyle4.png\",\n                  alt: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2322,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2312,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: url,\n                onClick: e => {\n                  setDashSize(20);\n                  setGapSize(10);\n                  setShapeAttributes({\n                    strokeDashArray: [20, 10]\n                  });\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/lineStyle5.png\",\n                  alt: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2334,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2324,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: url,\n                onClick: e => {\n                  setDashSize(5);\n                  setGapSize(5);\n                  setShapeAttributes({\n                    strokeDashArray: [5, 5]\n                  });\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/lineStyle6.png\",\n                  alt: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2346,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2336,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: url,\n                onClick: e => {\n                  setDashSize(2);\n                  setGapSize(2);\n                  setShapeAttributes({\n                    strokeDashArray: [2, 2]\n                  });\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/lineStyle7.png\",\n                  alt: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2358,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2348,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2275,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2273,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: tbStyles.buttontoolbar,\n          id: \"dropper\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: tbStyles.tooltipDown,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"images/dropper2.png\",\n              alt: \"Pick a color\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2365,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: tbStyles.tooltiptextDown,\n              children: \"Pick a color\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2366,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2364,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2363,\n          columnNumber: 11\n        }, this), \"\\xA0Stroke\\xA0\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          id: \"strokePoint\",\n          value: strokeWidth,\n          min: \"0\",\n          max: \"50\",\n          onChange: e => {\n            setStrokeWidth(+e.target.value);\n            setShapeAttributes({\n              strokeWidth: +e.target.value\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2370,\n          columnNumber: 11\n        }, this), \"\\xA0Dash\\xA0\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          min: \"0\",\n          max: \"20\",\n          id: \"dashSize\",\n          value: dashSize,\n          onChange: e => {\n            setDashSize(+e.target.value);\n            setShapeAttributes({\n              strokeDashArray: [+e.target.value, +e.target.value]\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2384,\n          columnNumber: 11\n        }, this), \"\\xA0Stroke Color\\xA0\", /*#__PURE__*/_jsxDEV(\"div\", {\n          style: swatchStyles.pickerContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: swatchStyles.swatch,\n            onClick: StrokeSwatchClick,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: swatchStyles.stroke\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2400,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2399,\n            columnNumber: 13\n          }, this), showStrokePicker ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: swatchStyles.popover,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: swatchStyles.cover,\n              onClick: StrokeSwatchClose\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2404,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SketchPicker, {\n              color: stroke,\n              onChange: StrokeSwatchChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2405,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2403,\n            columnNumber: 15\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2398,\n          columnNumber: 11\n        }, this), \"\\xA0Fill Color\\xA0\", /*#__PURE__*/_jsxDEV(\"div\", {\n          style: swatchStyles.pickerContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: swatchStyles.swatch,\n            onClick: FillSwatchClick,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"fillSwatch\",\n              style: swatchStyles.fill\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2412,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2411,\n            columnNumber: 13\n          }, this), showFillPicker ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: swatchStyles.popover,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: swatchStyles.cover,\n              onClick: FillSwatchClose\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2416,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SketchPicker, {\n              color: fill,\n              onChange: FillSwatchChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2417,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2415,\n            columnNumber: 15\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2410,\n          columnNumber: 11\n        }, this), \"\\xA0HighlightText\\xA0\", /*#__PURE__*/_jsxDEV(\"div\", {\n          style: swatchStyles.pickerContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: swatchStyles.swatch,\n            onClick: HighlightSwatchClick,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: swatchStyles.highlight\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2424,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2423,\n            columnNumber: 13\n          }, this), showHighlightPicker ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: swatchStyles.popover,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: swatchStyles.cover,\n              onClick: HighlightSwatchClose\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2428,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SketchPicker, {\n              color: textHighlight,\n              onChange: HighlightSwatchChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2432,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2427,\n            columnNumber: 15\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2422,\n          columnNumber: 11\n        }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"noStroke\",\n          onClick: e => {\n            setStrokeColor({\n              r: 255,\n              g: 255,\n              b: 255,\n              a: 0\n            });\n            setShapeAttributes({\n              stroke: \"rgba(255,255,255,0)\"\n            });\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: tbStyles.tooltipDown,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"images/noStroke2.png\",\n              alt: \"No stroke\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2450,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: tbStyles.tooltiptextDown,\n              children: \"Set No Stroke\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2451,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2449,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2440,\n          columnNumber: 11\n        }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"noFill\",\n          onClick: e => {\n            setFillColor({\n              r: 255,\n              g: 255,\n              b: 255,\n              a: 0\n            });\n            setShapeAttributes({\n              fill: \"rgba(255,255,255,0)\"\n            });\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: tbStyles.tooltipDown,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"images/noFill2.png\",\n              alt: \"No fill\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2465,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: tbStyles.tooltiptextDown,\n              children: \"Set No Fill\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2466,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2464,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2455,\n          columnNumber: 11\n        }, this), \"\\xA0Opacity\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          id: \"opacityRange\",\n          value: opacity,\n          onChange: e => {\n            //opacity.current = e.target.value;\n            setOpacity(e.target.value);\n            setShapeAttributes({\n              opacity: e.target.value\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2470,\n          columnNumber: 11\n        }, this), \"\\xA0 Angle snap:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"chkSnap\",\n          onChange: e => {\n            //console.log(e.target.checked);\n            snap.current = e.target.checked;\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2483,\n          columnNumber: 11\n        }, this), \"\\xA0Font\", /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"fonts\",\n          id: \"fonts\",\n          onChange: e => {\n            setFont(e.target.value);\n            setShapeAttributes({\n              fontFamily: e.target.value\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2492,\n          columnNumber: 11\n        }, this), \"\\xA0Size\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          id: \"fontSize\",\n          value: fontSize,\n          min: \"0\",\n          max: \"100\",\n          onChange: e => {\n            setFontSize(+e.target.value);\n            setShapeAttributes({\n              fontSize: +e.target.value\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2501,\n          columnNumber: 11\n        }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"FontWeight:\", /*#__PURE__*/_jsxDEV(\"select\", {\n            value: fontWeight,\n            onChange: e => {\n              setFontWeight(e.target.value);\n              setShapeAttributes({\n                fontWeight: e.target.value\n              });\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"normal\",\n              children: \"Normal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2526,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"bold\",\n              children: \"Bold\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2527,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2517,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2515,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"FontSyle:\", /*#__PURE__*/_jsxDEV(\"select\", {\n            value: fontStyle,\n            onChange: e => {\n              setFontStyle(e.target.value);\n              setShapeAttributes({\n                fontStyle: e.target.value\n              });\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"regular\",\n              children: \"Regular\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2541,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"italic\",\n              children: \"Italic\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2542,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2532,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2530,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"lMenu\",\n        className: styles.menu,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.tableft,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onMouseEnter: e => {\n              w3_openPanel(e, \"File\");\n            },\n            onClick: e => {\n              w3_openPanel(e, currentOpenPanel);\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/FileAccess2.png\",\n                alt: \"FileAccess\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2557,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextleft,\n                children: \"File Access\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2558,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2556,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2548,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => {\n              w3_openPanel(e, currentOpenPanel);\n            },\n            onMouseEnter: e => {\n              w3_openPanel(e, \"CanvasSet\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/Canvas2.png\",\n                alt: \"Canvas Settings\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2570,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextleft,\n                children: \"Canvas Settings\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2571,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2569,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2561,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => {\n              w3_openPanel(e, currentOpenPanel);\n            },\n            onMouseEnter: e => {\n              w3_openPanel(e, \"LayerSet\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/Layers2.png\",\n                alt: \"Layers\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2583,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextleft,\n                children: \"Layers\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2584,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2582,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2574,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => {\n              w3_openPanel(e, currentOpenPanel);\n            },\n            onMouseEnter: e => {\n              w3_openPanel(e, \"Warehouse\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/Warehouse2.png\",\n                alt: \"Warehouse\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2596,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextleft,\n                children: \"Warehouse\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2597,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2595,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2587,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => {\n              w3_openPanel(e, currentOpenPanel);\n            },\n            onMouseEnter: e => {\n              w3_openPanel(e, \"Phases\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/Phases2.png\",\n                alt: \"Phases\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2609,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextleft,\n                children: \"Phases\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2610,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2608,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2600,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => {\n              w3_openPanel(e, currentOpenPanel);\n            },\n            onMouseEnter: e => {\n              w3_openPanel(e, \"Measures\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/Measure2.png\",\n                alt: \"Measurements\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2622,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextleft,\n                children: \"Measures\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2623,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2621,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2613,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => {\n              w3_openPanel(e, currentOpenPanel);\n            },\n            onMouseEnter: e => {\n              w3_openPanel(e, \"Animation\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/Animation2.png\",\n                alt: \"Animation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2635,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextleft,\n                children: \"Phase Player\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2636,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2634,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2626,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.tabbar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2639,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2547,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2546,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"Library\",\n        className: styles.library,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"File\",\n          className: styles.File,\n          style: {\n            display: \"none\"\n          },\n          children: [\"File Access\", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.btngroup,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/NewFile2.png\",\n                  alt: \"NewFile\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2648,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2647,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"New File\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2650,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2646,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/OpenFile2.png\",\n                  alt: \"OpenFile\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2654,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2653,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Open File\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2656,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2652,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/recentFile2.png\",\n                  alt: \"RecentFile\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2660,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2659,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Recent File\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2662,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2658,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              onclick: e => {\n                document.getElementById(\"File\").style.display = \"none\";\n              },\n              className: tbStyles.close,\n              title: \"Close Modal\",\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2664,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2645,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2643,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"CanvasSet\",\n          className: styles.CanvasSet,\n          style: {\n            display: \"none\"\n          },\n          children: [\"Canvas Settings\", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.btngroup,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/CanvasSize2.png\",\n                  alt: \"CanvasSize\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2684,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2683,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Canvas Size\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2686,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2682,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/CanvasColor2.png\",\n                  alt: \"CanvasColor\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2690,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2689,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Canvas Color\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2692,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2688,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/CanvasImage2.png\",\n                  alt: \"CanvasImage\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2696,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2695,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Canvas Image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2698,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2694,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2681,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2675,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"LayerSet\",\n          className: styles.LayerSet,\n          style: {\n            display: \"none\"\n          },\n          children: [\"Layers\", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.sbtngroup,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/InsertBefore2.png\",\n                  alt: \"AddLayerBefore\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2711,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2710,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Add Layer Before\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2716,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2709,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/InsertAfter2.png\",\n                  alt: \"AddLayerAfter\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2720,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2719,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Add Layer After\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2722,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2718,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/Up2.png\",\n                  alt: \"LayerUp\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2726,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2725,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Layer Up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2728,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2724,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/Down2.png\",\n                  alt: \"LayerDown\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2732,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2731,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Layer Down\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2734,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2730,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/Hide2.png\",\n                  alt: \"HideLayer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2738,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2737,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Hide Layer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2740,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2736,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/Lock2.png\",\n                  alt: \"LockLayer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2744,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2743,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Lock Layer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2746,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2742,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/SortAlpha2.png\",\n                  alt: \"SortLayer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2750,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2749,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Sort layer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2752,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2748,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2708,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: styles.a,\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Shapes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2756,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2758,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Rectangle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2759,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2757,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Texts\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2761,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Lines\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2762,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2755,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2702,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"Warehouse\",\n          className: styles.Warehouse,\n          style: {\n            display: \"none\"\n          },\n          children: [\"Warehouse\", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.btngroup,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/Crane2.png\",\n                  alt: \"Crane\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2774,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2773,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Crane\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2776,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2772,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/Elevator2.png\",\n                  alt: \"Elevator\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2780,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2779,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Elevator\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2782,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2778,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/labels2.png\",\n                  alt: \"Labels\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2786,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2785,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Labels\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2788,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2784,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/CloudTool2.png\",\n                  alt: \"Cloud\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2792,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2791,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Cloud\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2794,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2790,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/CallOut2.png\",\n                  alt: \"Callout\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2798,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2797,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Callout\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2800,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2796,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/wedge2.png\",\n                  alt: \"Wedge\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2804,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2803,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Wedge\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2806,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2802,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/Ring2.png\",\n                  alt: \"Ring\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2810,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2809,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Ring\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2812,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2808,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/FilledArc2.png\",\n                  alt: \"FilledArc\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2816,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2815,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Filled Arc\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2818,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2814,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2771,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2765,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"Phases\",\n          className: styles.Phases,\n          style: {\n            display: \"none\"\n          },\n          children: [\"Phases\", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.btngroup,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/NewPhase2.png\",\n                  alt: \"NewPhase\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2831,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2830,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"NewPhase\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2833,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2829,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/StartDate2.png\",\n                  alt: \"StartDate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2837,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2836,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Start Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2839,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2835,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/EndDate2.png\",\n                  alt: \"EndDate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2843,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2842,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"End Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2845,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2841,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/DeletePhase2.png\",\n                  alt: \"DeletePhase\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2849,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2848,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Delete Phase \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2851,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2847,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2828,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2822,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"Measures\",\n          className: styles.Measures,\n          style: {\n            display: \"none\"\n          },\n          children: [\"Measurement\", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.btngroup,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/PageScale2.png\",\n                  alt: \"PageScale\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2864,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2863,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Page Scale\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2866,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2862,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/setunit2.png\",\n                  alt: \"SetUnits\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2870,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2869,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Set Units\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2872,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2868,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/Length2.png\",\n                  alt: \"Length\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2876,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2875,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Length\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2878,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2874,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/Perimeter2.png\",\n                  alt: \"Perimeter\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2882,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2881,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Perimeter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2884,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2880,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/Area2.png\",\n                  alt: \"Area\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2888,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2887,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Area\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2890,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2886,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2861,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2855,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"Animation\",\n          className: styles.Animation,\n          style: {\n            display: \"none\"\n          },\n          children: [\"Phase Player\", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.sbtngroup,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"Phase1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2902,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Play\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2903,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2901,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"Phase2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2906,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Play\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2907,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2905,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"Phase3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2910,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Play\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2911,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2909,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2900,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.sbtngroup,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/Play2.png\",\n                  alt: \"Play\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2917,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2916,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"Play/Stop\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2919,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2915,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              min: \"1\",\n              max: \"100\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2921,\n              columnNumber: 15\n            }, this), \"Play Speed\", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2924,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"1 Day/Second\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2925,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2923,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2928,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"2 Day/Second\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2929,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2927,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2932,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"5 Day/Second\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2933,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2931,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"10\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2936,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"10 Day/Second\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2937,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2935,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"30\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2940,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptextB,\n                children: \"30 Day/Second\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2941,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2939,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2914,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2894,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2642,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.right,\n        ref: rightBar,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.tab,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"select\",\n            onClick: e => {\n              canvas.isDrawingMode = false;\n              canvas.selection = true;\n              setCanvasTool(\"select\");\n              setActiveTool(e, \"select\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/Select2.png\",\n                alt: \"Select\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2958,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptext,\n                children: \"Selection\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2959,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2957,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2948,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"text\",\n            onClick: e => {\n              canvas.isDrawingMode = false;\n              canvas.selection = false;\n              setCanvasTool(\"text\");\n              setActiveTool(e, \"text\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/TextBox2.png\",\n                alt: \"TextBox\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2972,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptext,\n                children: \"Text\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2973,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2971,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2962,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"pen\",\n            onClick: e => {\n              setCanvasTool(\"pen\");\n              canvas.isDrawingMode = 1;\n              canvas.freeDrawingBrush.color = \"black\";\n              canvas.freeDrawingBrush.width = strokeWidth;\n              setActiveTool(e, \"pen\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/PenTool2.png\",\n                alt: \"Pen\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2987,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptext,\n                children: \"Free-hand\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2988,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2986,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2976,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"cloud\",\n            onClick: e => {\n              canvas.isDrawingMode = false;\n              canvas.selection = false;\n              setCanvasTool(\"cloud\");\n              setActiveTool(e, \"cloud\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/Cloud2.png\",\n                alt: \"Cloud\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3001,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptext,\n                children: \"Cloud\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3002,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3000,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2991,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"callout\",\n            onClick: e => {\n              canvas.isDrawingMode = false;\n              canvas.selection = false;\n              setCanvasTool(\"callout\");\n              setActiveTool(e, \"callout\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/CallOut2.png\",\n                alt: \"Callout\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3015,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptext,\n                children: \"Callout\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3016,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3014,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3005,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"image\",\n            onClick: e => {\n              canvas.isDrawingMode = false;\n              canvas.selection = false;\n              setCanvasTool(\"image\");\n              setActiveTool(e, \"image\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/Image2.png\",\n                alt: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3029,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptext,\n                children: \"Image Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3030,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3028,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3019,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.tabspace\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3033,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"line\",\n            onClick: e => {\n              canvas.isDrawingMode = false;\n              canvas.selection = false;\n              editPoly.current = true;\n              setCanvasTool(\"line\");\n              setActiveTool(e, \"line\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/Line2.png\",\n                alt: \"Line\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3045,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptext,\n                children: \"Line\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3046,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3044,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3034,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"polyline\",\n            onClick: e => {\n              canvas.isDrawingMode = false;\n              setCanvasTool(\"polyline\");\n              setActiveTool(e, \"polyline\");\n              canvas.selection = false;\n              var objects = canvas.getObjects();\n\n              for (var i = 0; i < objects.length; i++) {\n                objects[i].set({\n                  selectable: false,\n                  evented: false\n                });\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/Polyline2.png\",\n                alt: \"Polyline\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3063,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptext,\n                children: \"Polyline\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3064,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3062,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3049,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"arrow\",\n            onClick: e => {\n              canvas.isDrawingMode = false;\n              canvas.selection = false;\n              setCanvasTool(\"arrow\");\n              setActiveTool(e, \"arrow\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/Arrow2.png\",\n                alt: \"Arrow\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3077,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptext,\n                children: \"Arrow\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3078,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3076,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3067,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"arc\",\n            onClick: e => {\n              canvas.isDrawingMode = false;\n              canvas.selection = false;\n              setCanvasTool(\"arc\");\n              setActiveTool(e, \"arc\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/Arc2.png\",\n                alt: \"Arc\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3091,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptext,\n                children: \"Arc\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3092,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3090,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3081,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"rect\",\n            onClick: e => {\n              canvas.isDrawingMode = false;\n              canvas.selection = false;\n              canvas.selection = false;\n              canvas.forEachObject(function (o) {\n                o.selectable = false;\n              });\n              canvas.renderAll();\n              setCanvasTool(\"rect\");\n              setActiveTool(e, \"rect\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/Rectangle2.png\",\n                alt: \"Rectangle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3110,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptext,\n                children: \"Rectangle.current\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3111,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3109,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3095,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"polygon\",\n            onClick: e => {\n              canvas.isDrawingMode = false;\n              canvas.selection = false;\n              setCanvasTool(\"polygon\");\n              setActiveTool(e, \"polygon\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/Polygon2.png\",\n                alt: \"Polygon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3124,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptext,\n                children: \"Polygon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3125,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3123,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"rpolygon\",\n            onClick: e => {\n              canvas.isDrawingMode = false;\n              canvas.selection = false;\n              setCanvasTool(\"rpolygon\");\n              setActiveTool(e, \"rpolygon\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/RPolygon2.png\",\n                alt: \"Regular Polygon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3138,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptext,\n                children: \"Regular Polygon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3139,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3137,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"circle\",\n            onClick: e => {\n              canvas.isDrawingMode = false;\n              canvas.selection = false;\n              setCanvasTool(\"circle\");\n              setActiveTool(e, \"circle\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/Circle2.png\",\n                alt: \"Circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3152,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptext,\n                children: \"Circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3153,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3151,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3142,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"ellipse\",\n            onClick: e => {\n              canvas.isDrawingMode = false;\n              canvas.selection = false;\n              setCanvasTool(\"ellipse\");\n              setActiveTool(e, \"ellipse\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/Ellipse2.png\",\n                alt: \"Ellipse\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3166,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptext,\n                children: \"Ellipse\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3167,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3165,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.tabspace\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"dimension\",\n            onClick: e => {\n              canvas.isDrawingMode = false;\n              canvas.selection = false;\n              setCanvasTool(\"dimension\");\n              setActiveTool(e, \"dimension\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/Dimension2.png\",\n                alt: \"Dimension\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3181,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptext,\n                children: \"Dimension\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3182,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3180,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"area\",\n            onClick: e => {\n              canvas.isDrawingMode = false;\n              canvas.selection = false;\n              setCanvasTool(\"area\");\n              setActiveTool(e, \"area\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/Area2.png\",\n                alt: \"Area\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3196,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptext,\n                children: \"Area\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3197,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3195,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"length\",\n            onClick: e => {\n              canvas.isDrawingMode = false;\n              canvas.selection = false;\n              setCanvasTool(\"length\");\n              setActiveTool(e, \"length\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/Length2.png\",\n                alt: \"Length\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3210,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptext,\n                children: \"Length\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3211,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3209,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"perimeter\",\n            onClick: e => {\n              canvas.isDrawingMode = false;\n              canvas.selection = false;\n              setCanvasTool(\"perimeter\");\n              setActiveTool(e, \"perimeter\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.tooltip,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/Perimeter2.png\",\n                alt: \"Perimeter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3224,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.tooltiptext,\n                children: \"Perimeter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3225,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3223,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3214,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2947,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2946,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        id: \"my-fabric-canvas\",\n        width: \"1191\",\n        height: \"842\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3230,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2119,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2118,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(App, \"t9cD4U5rBmywbdOUvblsDBEW31s=\", false, function () {\n  return [useForceUpdate];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["c:/Tutorials/elp-app/src/App.js"],"names":["React","useRef","useState","useReducer","fabric","SketchPicker","MediaQuery","reactCSS","styles","tbStyles","initialState","version","objects","type","originX","originY","left","top","width","height","fill","stroke","strokeWidth","strokeDashArray","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","scaleX","scaleY","angle","flipX","flipY","opacity","shadow","visible","clipTo","backgroundColor","fillRule","paintFirst","globalCompositeOperation","transformMatrix","skewX","skewY","rx","ry","name","fontCheck","Set","sort","useForceUpdate","App","mforceUpdate","past","setPast","future","setFuture","pageLoad","setPageLoad","canvasRender","canvasRef","mainDiv","rightBar","shapeCount","isDrawing","currentStroke","editPoly","openPoly","polyType","reRender","forceUpdate","x","canvas","setCanvas","canvasTool","setCanvasTool","setStrokeWidth","setStrokeColor","r","g","b","a","setFillColor","textHighlight","setHighlight","dashSize","setDashSize","gapSize","setGapSize","setOpacity","font","setFont","fontSize","setFontSize","fontWeight","setFontWeight","fontStyle","setFontStyle","showStrokePicker","setShowStrokePicker","showFillPicker","setShowFillPicker","showHighlightPicker","setShowHighlightPicker","snap","newShape","anchors","pointer","line","origX","origY","arrow","selectedShape","polyPoints","rpolygon","Rectangle","circle","ellipse","polyLines","currentToolId","currentOpenPanel","drawingObject","background","border","StrokeSwatchClick","activeShape","getActiveObject","setShapeAttributes","FillSwatchClick","HighlightSwatchClick","StrokeSwatchClose","FillSwatchClose","HighlightSwatchClose","StrokeSwatchChange","color","rgb","FillSwatchChange","HighlightSwatchChange","textBackgroundColor","calcPolygonPoints","sideCount","radius","sweep","Math","PI","cx","cy","points","i","cos","y","sin","push","saveCanvasState","newCanvasState","sessionStorage","clear","myFabricJSCanvas","JSON","stringify","setItem","useEffect","history","parse","getItem","fontAvailable","values","document","fonts","check","add","getElementById","option","createElement","text","Canvas","current","set","fireMiddleClick","stopContextMenu","undefined","data","loadFromJSON","forEachObject","o","includes","remove","json","toJSON","length","renderAll","isDrawingMode","freeDrawingBrush","selection","defaultCursor","selectable","hoverCursor","on","options","target","locked","ceil","abs","e","console","log","polyGon","Polygon","setActiveObject","maxX","max","minX","min","maxY","minY","xDiff","yDiff","distance","sqrt","polyLine","Polyline","editable","hasControls","hasBorders","str","get","id","split","matrix","calcTransformMatrix","transformedPoints","map","p","Point","pathOffset","util","transformPoint","pFill","pStroke","pName","updatedPoly","sendToBack","forEach","index","anchor","Circle","pname","object","getObjects","getCenterPoint","pPoints","setViewportTransform","viewportTransform","isDragging","button","allObjects","path","getPointer","IText","fontFamily","click","Line","x2","y2","arrowLinePoints","dx","x1","dy","y1","atan2","Triangle","Group","lockMovementX","lockMovementY","startPoint","endPoint","newPolyLine","objectCaching","perPixelTargetFind","Rect","startAngle","endAngle","Ellipse","rgba","substr","Number","isNaN","opt","delta","deltaY","zoom","getZoom","zoomToPoint","offsetX","offsetY","preventDefault","stopPropagation","vpt","getWidth","getHeight","evt","lastPosX","clientX","lastPosY","clientY","requestRenderAll","dispose","onUndo","present","pop","newFuture","previous","onRedo","next","slice","attributes","Attributes","item","deleteObjects","getActiveObjects","obj","window","location","reload","simulateMouseEvent","element","eventName","coordX","coordY","dispatchEvent","MouseEvent","view","bubbles","cancelable","w3_openPanel","panelId","style","display","setActiveTool","handleKeyDown","event","key","ctrlKey","url","swatchStyles","default","borderRadius","blank","highlight","swatch","padding","boxShadow","cursor","backgroundImage","pickerContainer","popover","position","zIndex","cover","right","bottom","focus","propBar","buttontoolbar","tooltipDown","tooltiptextDown","dropdown","dropdowncontent","value","checked","menu","tableft","tooltip","tooltiptextleft","tabbar","library","File","btngroup","tooltiptextB","close","CanvasSet","LayerSet","sbtngroup","Warehouse","Phases","Measures","Animation","tab","tooltiptext","tabspace","evented"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useReducer } from \"react\";\nimport { fabric } from \"fabric\";\nimport { SketchPicker } from \"react-color\";\nimport MediaQuery from \"react-responsive\";\nimport reactCSS from \"reactcss\";\n\nimport \"./styles.css\";\nimport styles from \"./rightMenu.module.css\";\nimport tbStyles from \"./toolbar.module.css\";\n\nconst initialState = {\n  version: \"3.6.3\",\n  objects: [\n    {\n      type: \"rect\",\n      version: \"3.6.3\",\n      originX: \"left\",\n      originY: \"top\",\n      left: 0,\n      top: 0,\n      width: 1,\n      height: 1,\n      fill: \"black\",\n      stroke: null,\n      strokeWidth: 1,\n      strokeDashArray: null,\n      strokeLineCap: \"butt\",\n      strokeDashOffset: 0,\n      strokeLineJoin: \"miter\",\n      strokeMiterLimit: 4,\n      scaleX: 1,\n      scaleY: 1,\n      angle: 0,\n      flipX: false,\n      flipY: false,\n      opacity: 1,\n      shadow: null,\n      visible: false,\n      clipTo: null,\n      backgroundColor: \"\",\n      fillRule: \"nonzero\",\n      paintFirst: \"fill\",\n      globalCompositeOperation: \"source-over\",\n      transformMatrix: null,\n      skewX: 0,\n      skewY: 0,\n      rx: 0,\n      ry: 0,\n      name: \"shape-rect-n\",\n    },\n  ],\n};\n\nconst fontCheck = new Set(\n  [\n    // Windows 10\n    \"Arial\",\n    \"Arial Black\",\n    \"Bahnschrift\",\n    \"Calibri\",\n    \"Cambria\",\n    \"Cambria Math\",\n    \"Candara\",\n    \"Comic Sans MS\",\n    \"Consolas\",\n    \"Constantia\",\n    \"Corbel\",\n    \"Courier New\",\n    \"Ebrima\",\n    \"Franklin Gothic Medium\",\n    \"Gabriola\",\n    \"Gadugi\",\n    \"Georgia\",\n    \"HoloLens MDL2 Assets\",\n    \"Impact\",\n    \"Ink Free\",\n    \"Javanese Text\",\n    \"Leelawadee UI\",\n    \"Lucida Console\",\n    \"Lucida Sans Unicode\",\n    \"Malgun Gothic\",\n    \"Marlett\",\n    \"Microsoft Himalaya\",\n    \"Microsoft JhengHei\",\n    \"Microsoft New Tai Lue\",\n    \"Microsoft PhagsPa\",\n    \"Microsoft Sans Serif\",\n    \"Microsoft Tai Le\",\n    \"Microsoft YaHei\",\n    \"Microsoft Yi Baiti\",\n    \"MingLiU-ExtB\",\n    \"Mongolian Baiti\",\n    \"MS Gothic\",\n    \"MV Boli\",\n    \"Myanmar Text\",\n    \"Nirmala UI\",\n    \"Palatino Linotype\",\n    \"Segoe MDL2 Assets\",\n    \"Segoe Print\",\n    \"Segoe Script\",\n    \"Segoe UI\",\n    \"Segoe UI Historic\",\n    \"Segoe UI Emoji\",\n    \"Segoe UI Symbol\",\n    \"SimSun\",\n    \"Sitka\",\n    \"Sylfaen\",\n    \"Symbol\",\n    \"Tahoma\",\n    \"Times New Roman\",\n    \"Trebuchet MS\",\n    \"Verdana\",\n    \"Webdings\",\n    \"Wingdings\",\n    \"Yu Gothic\",\n    // macOS\n    \"American Typewriter\",\n    \"Andale Mono\",\n    \"Arial\",\n    \"Arial Black\",\n    \"Arial Narrow\",\n    \"Arial Rounded MT Bold\",\n    \"Arial Unicode MS\",\n    \"Avenir\",\n    \"Avenir Next\",\n    \"Avenir Next Condensed\",\n    \"Baskerville\",\n    \"Big Caslon\",\n    \"Bodoni 72\",\n    \"Bodoni 72 Oldstyle\",\n    \"Bodoni 72 Smallcaps\",\n    \"Bradley Hand\",\n    \"Brush Script MT\",\n    \"Chalkboard\",\n    \"Chalkboard SE\",\n    \"Chalkduster\",\n    \"Charter\",\n    \"Cochin\",\n    \"Comic Sans MS\",\n    \"Copperplate\",\n    \"Courier\",\n    \"Courier New\",\n    \"Didot\",\n    \"DIN Alternate\",\n    \"DIN Condensed\",\n    \"Futura\",\n    \"Geneva\",\n    \"Georgia\",\n    \"Gill Sans\",\n    \"Helvetica\",\n    \"Helvetica Neue\",\n    \"Herculanum\",\n    \"Hoefler Text\",\n    \"Impact\",\n    \"Lucida Grande\",\n    \"Luminari\",\n    \"Marker Felt\",\n    \"Menlo\",\n    \"Microsoft Sans Serif\",\n    \"Monaco\",\n    \"Noteworthy\",\n    \"Optima\",\n    \"Palatino\",\n    \"Papyrus\",\n    \"Phosphate\",\n    \"Rockwell\",\n    \"Savoye LET\",\n    \"SignPainter\",\n    \"Skia\",\n    \"Snell Roundhand\",\n    \"Tahoma\",\n    \"Times\",\n    \"Times New Roman\",\n    \"Trattatello\",\n    \"Trebuchet MS\",\n    \"Verdana\",\n    \"Zapfino\",\n  ].sort()\n);\n\nconst useForceUpdate = () => useState()[1];\n// Or you can use:\n// const fabric = require(\"fabric\").fabric;\n//const canvas = new fabric.Canvas(\"my-fabric-canvas\");\nconst App = () => {\n  const mforceUpdate = useForceUpdate();\n  // for undo/redoing\n  const [past, setPast] = useState([initialState]);\n  const [future, setFuture] = useState([initialState]);\n  //const [newAction, setNewAction] = useState(0);\n  const [pageLoad, setPageLoad] = useState(null);\n  const canvasRender = useRef(0);\n  const canvasRef = useRef();\n  const mainDiv = useRef(null);\n  const rightBar = useRef();\n  const shapeCount = useRef(0);\n  const isDrawing = useRef(false);\n  const currentStroke = useRef(\"\");\n  const editPoly = useRef(true);\n  const openPoly = useRef(null);\n  const polyType = useRef(\"\");\n  const [reRender, forceUpdate] = useReducer((x) => x + 1, 0);\n  //const forceUpdate = React.useReducer(() => ({}))[1];\n  //const [, updateComponent] = React.useState();\n  //const forceUpdateComponent = React.useCallback(() => updateComponent({}), []);\n  //anchors\n  const [canvas, setCanvas] = useState();\n  //const [canvasHistory, setCanvasHistory] = useState([initialState]);\n  //const [canvasHistory, setCanvasHistory] = useState([]);\n  // const [canvasState, setCanvasState] = useState(initialState);\n  //const [canvasState, setCanvasState] = useState();\n  const [canvasTool, setCanvasTool] = useState(\"select\");\n  const [strokeWidth, setStrokeWidth] = useState(1);\n  // const [stroke, setStrokeColor] = useState(\"black\");\n  const [stroke, setStrokeColor] = useState({\n    r: \"0\",\n    g: \"0\",\n    b: \"0\",\n    a: \"1\",\n  });\n  const [fill, setFillColor] = useState({\n    r: \"0\",\n    g: \"0\",\n    b: \"0\",\n    a: \"0\",\n  });\n  const [textHighlight, setHighlight] = useState({\n    r: \"255\",\n    g: \"255\",\n    b: \"0\",\n    a: \"1\",\n  });\n  // const [fill, setFillColor] = useState(\"black\");\n  const [dashSize, setDashSize] = useState(0);\n  const [gapSize, setGapSize] = useState(0);\n  const [opacity, setOpacity] = useState(100);\n  // const [snap, setSnap] = useState(false);\n  const [font, setFont] = useState(\"\");\n  const [fontSize, setFontSize] = useState(30);\n  const [fontWeight, setFontWeight] = useState(\"normal\");\n  const [fontStyle, setFontStyle] = useState(\"regular\");\n  //const [textHighlight, setHighlight] = useState(\"yellow\");\n\n  const [showStrokePicker, setShowStrokePicker] = useState(false);\n  const [showFillPicker, setShowFillPicker] = useState(false);\n  const [showHighlightPicker, setShowHighlightPicker] = useState(false);\n  //const [shapeCount, setShapeCount] = useState(0);\n\n  //const opacity = useRef(100);\n  const snap = useRef(false);\n  const newShape = useRef(true);\n  const anchors = useRef([]);\n  const pointer = useRef();\n  const line = useRef(null);\n  const origX = useRef();\n  const origY = useRef();\n  const angle = useRef();\n  const arrow = useRef(null);\n  const selectedShape = useRef(null);\n  const polyPoints = useRef([]);\n  const rpolygon = useRef(null);\n  const Rectangle = useRef(null);\n  const circle = useRef(null);\n  const ellipse = useRef(null);\n  const polyLines = useRef([]);\n  const currentToolId = useRef(null);\n\n  var currentOpenPanel = \"none\";\n  var drawingObject = {};\n  drawingObject.type = \"\";\n  drawingObject.background = \"\";\n  drawingObject.border = \"\";\n\n  const StrokeSwatchClick = () => {\n    setShowStrokePicker((showStrokePicker) => !showStrokePicker);\n    if (!showStrokePicker) {\n      //Todo\n      var activeShape = canvas.getActiveObject();\n      if (activeShape) {\n        if (activeShape.stroke === \"rgba(255,255,255,0)\") {\n          setStrokeColor({ r: 255, g: 255, b: 255, a: 1 });\n          setShapeAttributes({\n            stroke: \"rgba(255,255,255,1)\",\n          });\n        }\n      }\n    }\n  };\n  const FillSwatchClick = () => {\n    setShowFillPicker((showFillPicker) => !showFillPicker);\n    if (!showFillPicker) {\n      //Todo\n      var activeShape = canvas.getActiveObject();\n      if (activeShape) {\n        if (activeShape.fill === \"rgba(255,255,255,0)\") {\n          setFillColor({ r: 255, g: 255, b: 255, a: 1 });\n          setShapeAttributes({\n            fill: \"rgba(255,255,255,1)\",\n          });\n        }\n      }\n    }\n  };\n  const HighlightSwatchClick = () => {\n    setShowHighlightPicker((showHighlightPicker) => !showHighlightPicker);\n  };\n  const StrokeSwatchClose = () => {\n    setShowStrokePicker(false);\n  };\n  const FillSwatchClose = () => {\n    setShowFillPicker(false);\n  };\n  const HighlightSwatchClose = () => {\n    setShowHighlightPicker(false);\n  };\n  const StrokeSwatchChange = (color) => {\n    //console.log(stroke);\n    setStrokeColor(color.rgb);\n    setShapeAttributes({\n      stroke:\n        \"rgba(\" +\n        color.rgb.r +\n        \", \" +\n        color.rgb.g +\n        \", \" +\n        color.rgb.b +\n        \", \" +\n        color.rgb.a +\n        \")\",\n    });\n  };\n  const FillSwatchChange = (color) => {\n    //console.log(stroke);\n    setFillColor(color.rgb);\n    setShapeAttributes({\n      fill:\n        \"rgba(\" +\n        color.rgb.r +\n        \", \" +\n        color.rgb.g +\n        \", \" +\n        color.rgb.b +\n        \", \" +\n        color.rgb.a +\n        \")\",\n    });\n    //console.log(swatchStyles.fill);\n  };\n  const HighlightSwatchChange = (color) => {\n    //console.log(stroke);\n    setHighlight(color.rgb);\n    setShapeAttributes({\n      textBackgroundColor:\n        \"rgba(\" +\n        color.rgb.r +\n        \", \" +\n        color.rgb.g +\n        \", \" +\n        color.rgb.b +\n        \", \" +\n        color.rgb.a +\n        \")\",\n    });\n  };\n  var calcPolygonPoints = (sideCount, radius) => {\n    var sweep = (Math.PI * 2) / sideCount;\n    var cx = radius;\n    var cy = radius;\n    var points = [];\n\n    for (var i = 0; i < sideCount; i++) {\n      var x = cx + radius * Math.cos(i * sweep);\n      var y = cy + radius * Math.sin(i * sweep);\n      points.push({ x: x, y: y });\n    }\n    return points;\n  };\n  /*\n  function click(id) {\n    var ev = new MouseEvent(\"click\", {\n      view: window,\n      bubbles: true,\n      cancelable: true,\n    });\n\n    var el = document.getElementById(id);\n    el.dispatchEvent(ev);\n  }\n  */\n  const saveCanvasState = (newCanvasState) => {\n    past.push(newCanvasState);\n    setPast(past);\n    setFuture([]);\n    sessionStorage.clear();\n    sessionStorage.myFabricJSCanvas = JSON.stringify(newCanvasState);\n    sessionStorage.setItem(\"history\", JSON.stringify(past));\n    //sessionStorage.myFabricJSCanvas = JSON.stringify(past);\n    //console.log(sessionStorage.myFabricJSCanvas);\n  };\n  /*\n  const onObjectModified = useCallback(\n    (e) => {\n      const newCanvasState = e.target.canvas.toJSON([\"name\"]);\n      //const newCanvasState = canvas.toJSON([\"name\"]);\n      setCanvasState(newCanvasState);\n      // Limit history depth\n      setCanvasHistory((history) => [...history, newCanvasState].slice(-32));\n      //setPast([...past, newCanvasState]);\n      //setFuture([]);\n      console.log(newCanvasState);\n    },\n    [setCanvasState, setCanvasHistory]\n  );\n*/\n  React.useEffect(() => {\n    //document.getElementById(\"select\").click();\n    var history = JSON.parse(sessionStorage.getItem(\"history\")); //get them back\n    //    console.log(history);\n    if (history !== null) setPast(history);\n    //console.log(past);\n    const fontAvailable = new Set();\n    for (const font of fontCheck.values()) {\n      if (document.fonts.check(`12px \"${font}\"`)) {\n        fontAvailable.add(font);\n        var x = document.getElementById(\"fonts\");\n        var option = document.createElement(\"option\");\n        option.text = font;\n        x.add(option);\n      }\n    }\n  }, []);\n  // React.useEffect(() => {}, [canvasState]);\n\n  React.useEffect(() => {\n    //console.log(canvasRender);\n    const canvas = new fabric.Canvas(canvasRef.current);\n    canvas.set({\n      fireMiddleClick: true, // <-- enable firing of middle click events\n      stopContextMenu: true,\n    });\n    //canvas.loadFromJSON(canvasState);\n    //    console.log(past[past.length - 1]);\n    if (pageLoad === null && sessionStorage.myFabricJSCanvas !== undefined) {\n      setPageLoad(1);\n      //console.log(sessionStorage.myFabricJSCanvas);\n      const data = JSON.parse(sessionStorage.myFabricJSCanvas);\n      canvas.loadFromJSON(data);\n      canvas.forEachObject(function (o) {\n        if (o.name.includes(\"anchor\")) {\n          canvas.remove(o);\n        }\n      });\n      anchors.current = [];\n      var json = canvas.toJSON([\"name\"]);\n      past.push(json);\n      setPast(past);\n      var history = JSON.parse(sessionStorage.getItem(\"history\")); //get them back\n      //console.log(history);\n      if (history !== null) setPast(history);\n      // console.log(past);\n      setFuture([]);\n    } else {\n      canvas.loadFromJSON(past[past.length - 1]);\n    }\n    canvas.renderAll();\n    editPoly.current = true;\n    if (canvasTool === \"pen\") {\n      canvas.isDrawingMode = 1;\n      canvas.freeDrawingBrush.color =\n        \"rgba(\" +\n        stroke.r +\n        \", \" +\n        stroke.g +\n        \", \" +\n        stroke.b +\n        \", \" +\n        stroke.a +\n        \")\";\n      canvas.freeDrawingBrush.width = strokeWidth;\n    }\n    if (canvasTool !== \"select\") {\n      canvas.selection = false;\n      canvas.defaultCursor = \"crosshair\";\n      canvas.forEachObject(function (o) {\n        o.selectable = false;\n        o.hoverCursor = \"move\";\n      });\n      if (openPoly.current !== null) {\n        openPoly.current = null;\n        canvas.forEachObject(function (o) {\n          if (o.name.includes(\"anchor\")) {\n            canvas.remove(o);\n          }\n        });\n        anchors.current = [];\n        canvas.renderAll();\n        const newCanvasState = canvas.toJSON([\"name\"]);\n        saveCanvasState(newCanvasState);\n        sessionStorage.myFabricJSCanvas = JSON.stringify(newCanvasState);\n      }\n    } else {\n      canvas.selection = true;\n      canvas.forEachObject(function (o) {\n        o.selectable = true;\n      });\n    }\n\n    canvas.on(\"object:rotating\", function (options) {\n      if (!snap.current) return;\n      var angle = options.target.angle;\n      var locked = Math.ceil(options.target.angle / 5) * 5;\n      if (Math.abs(angle - locked) < 10 || Math.abs(locked - angle) < 10) {\n        angle = locked;\n      }\n\n      options.target.set({\n        angle: angle,\n      });\n    });\n    //canvas.on(\"object:added\", onObjectModified);\n    // canvas.on(\"object:modified\", onObjectModified);\n    canvas.on(\"object:modified\", function (e) {\n      const newCanvasState = e.target.canvas.toJSON([\"name\"]);\n      past.push(newCanvasState);\n      setPast(past);\n      console.log(past);\n      setFuture([]);\n      sessionStorage.clear();\n      sessionStorage.myFabricJSCanvas = JSON.stringify(newCanvasState);\n      sessionStorage.setItem(\"history\", JSON.stringify(past));\n    });\n\n    canvas.on(\"mouse:dblclick\", function (e) {\n      if (canvasTool === \"polygon\") {\n        canvas.remove(line.current);\n        for (var i = 0; i < polyLines.current.length; i++) {\n          canvas.remove(polyLines.current[i]);\n        }\n        newShape.current = true;\n        isDrawing.current = false;\n        var polyGon = null;\n        polyGon = new fabric.Polygon(polyPoints.current, {\n          stroke:\n            \"rgba(\" +\n            stroke.r +\n            \", \" +\n            stroke.g +\n            \", \" +\n            stroke.b +\n            \", \" +\n            stroke.a +\n            \")\",\n          fill:\n            \"rgba(\" +\n            fill.r +\n            \", \" +\n            fill.g +\n            \", \" +\n            fill.b +\n            \", \" +\n            fill.a +\n            \")\",\n          strokeWidth: strokeWidth,\n          selectable: false,\n          hoverCursor: \"default\",\n          name: \"shape-polygon-\" + shapeCount.current,\n        });\n        canvas.add(polyGon);\n        editPoly.current = true;\n        canvas.setActiveObject(polyGon);\n        canvas.renderAll();\n        shapeCount.current++;\n        const newCanvasState = canvas.toJSON([\"name\"]);\n        // setCanvasState(newCanvasState);\n        // Save state to History and Limit history depth to 32\n        // setCanvasHistory ((history) => [...history, newCanvasState].slice(-32));\n        saveCanvasState(newCanvasState);\n      }\n\n      if (canvasTool === \"polyline\") {\n        canvas.remove(line.current);\n        for (i = 0; i < polyLines.current.length; i++) {\n          canvas.remove(polyLines.current[i]);\n        }\n        newShape.current = true;\n        isDrawing.current = false;\n        var maxX = Math.max(\n          polyPoints.current[0].x,\n          polyPoints.current[polyPoints.current.length - 1].x\n        );\n        var minX = Math.min(\n          polyPoints.current[0].x,\n          polyPoints.current[polyPoints.current.length - 1].x\n        );\n        var maxY = Math.max(\n          polyPoints.current[0].y,\n          polyPoints.current[polyPoints.current.length - 1].y\n        );\n        var minY = Math.min(\n          polyPoints.current[0].y,\n          polyPoints.current[polyPoints.current.length - 1].y\n        );\n        var xDiff = maxX - minX;\n        var yDiff = maxY - minY;\n        var distance = Math.sqrt(xDiff * xDiff + yDiff * yDiff);\n        //console.log(distance);\n        var polyLine = null;\n        if (distance <= 10) {\n          polyLine = new fabric.Polyline(polyPoints.current, {\n            stroke:\n              \"rgba(\" +\n              stroke.r +\n              \", \" +\n              stroke.g +\n              \", \" +\n              stroke.b +\n              \", \" +\n              stroke.a +\n              \")\",\n            fill:\n              \"rgba(\" +\n              fill.r +\n              \", \" +\n              fill.g +\n              \", \" +\n              fill.b +\n              \", \" +\n              fill.a +\n              \")\",\n            strokeWidth: strokeWidth,\n            selectable: false,\n            hoverCursor: \"default\",\n            name: \"shape-polyline-\" + shapeCount.current,\n          });\n        } else {\n          polyLine = new fabric.Polyline(polyPoints.current, {\n            stroke:\n              \"rgba(\" +\n              stroke.r +\n              \", \" +\n              stroke.g +\n              \", \" +\n              stroke.b +\n              \", \" +\n              stroke.a +\n              \")\",\n            fill: \"\",\n            strokeWidth: strokeWidth,\n            selectable: false,\n            hoverCursor: \"default\",\n            name: \"shape-polyline-\" + shapeCount.current,\n          });\n        }\n        canvas.add(polyLine);\n        canvas.setActiveObject(polyLine);\n        editPoly.current = true;\n        canvas.renderAll();\n        shapeCount.current++;\n        const newCanvasState = canvas.toJSON([\"name\"]);\n        // setCanvasState(newCanvasState);\n        // Save state to History and Limit history depth to 32\n        //  setCanvasHistory((history) => [...history, newCanvasState].slice(-32));\n        saveCanvasState(newCanvasState);\n      }\n      if (canvasTool === \"select\") {\n        if (e.target.type === \"polyline\" && editPoly.current) {\n          canvas.forEachObject(function (o) {\n            if (o.name.includes(\"anchor\")) {\n              canvas.remove(o);\n            }\n          });\n          anchors.current = [];\n          polyType.current = \"polyline\";\n          // polyPoints = [];\n          var editable = e.target;\n          openPoly.current = editable; //for future hiding the anchor points.\n          editable.set({\n            hasControls: false,\n            hasBorders: false,\n            selectable: false,\n            hoverCursor: \"default\",\n          });\n          editPoly.current = false;\n          // console.log(editable.get(\"points\"));\n          var str = editable.get(\"name\");\n          var id = str.split(\"-\");\n          var matrix = editable.calcTransformMatrix();\n          var transformedPoints = editable\n            .get(\"points\")\n            .map(function (p) {\n              return new fabric.Point(\n                p.x - editable.pathOffset.x,\n                p.y - editable.pathOffset.y\n              );\n            })\n            .map(function (p) {\n              return fabric.util.transformPoint(p, matrix);\n            });\n          var pFill = editable.get(\"fill\");\n          var pStroke = editable.get(\"stroke\");\n          var pName = editable.get(\"name\");\n          canvas.remove(editable);\n          var updatedPoly = new fabric.Polyline(transformedPoints, {\n            fill: pFill,\n            stroke: pStroke,\n            name: pName,\n            hasControls: false,\n            hasBorders: false,\n            selectable: false,\n            hoverCursor: \"default\",\n          });\n          canvas.add(updatedPoly);\n          canvas.sendToBack(updatedPoly);\n          anchors.current = [];\n          transformedPoints.forEach(function (p, index) {\n            var anchor = new fabric.Circle({\n              left: p.x,\n              top: p.y,\n              radius: 15,\n              fill: \"green\",\n              originX: \"center\",\n              originY: \"center\",\n              hasControls: false,\n              hasBorders: false,\n              name: \"anchor-\" + id[2] + \"-\" + index,\n            });\n            canvas.add(anchor);\n            anchors.current.push(anchor);\n          });\n          canvas.renderAll();\n          return;\n        }\n        if (e.target.type === \"polyline\" && !editPoly.current) {\n          polyType.current = \"\";\n          editable = e.target;\n          editable.set({\n            hasControls: true,\n            hasBorders: true,\n            selectable: true,\n            hoverCursor: \"move\",\n          });\n          editPoly.current = true;\n          anchors.current.forEach(function (anchor) {\n            canvas.remove(anchor);\n          });\n          anchors.current = [];\n          openPoly.current = null;\n          canvas.renderAll();\n          return;\n        }\n        if (e.target.type === \"polygon\" && editPoly.current) {\n          if (e.target.name.includes(\"rpolygon\")) return;\n          canvas.forEachObject(function (o) {\n            if (o.name.includes(\"anchor\")) {\n              canvas.remove(o);\n            }\n          });\n          anchors.current = [];\n          polyType.current = \"polygon\";\n          // polyPoints = [];\n          editable = e.target;\n          openPoly.current = editable; //for future hiding the anchor points.\n          editable.set({\n            hasControls: false,\n            hasBorders: false,\n            selectable: false,\n            hoverCursor: \"default\",\n          });\n          editPoly.current = false;\n          // console.log(editable.get(\"points\"));\n          str = editable.get(\"name\");\n          id = str.split(\"-\");\n          matrix = editable.calcTransformMatrix();\n          transformedPoints = editable\n            .get(\"points\")\n            .map(function (p) {\n              return new fabric.Point(\n                p.x - editable.pathOffset.x,\n                p.y - editable.pathOffset.y\n              );\n            })\n            .map(function (p) {\n              return fabric.util.transformPoint(p, matrix);\n            });\n          pFill = editable.get(\"fill\");\n          pStroke = editable.get(\"stroke\");\n          pName = editable.get(\"name\");\n          canvas.remove(editable);\n          updatedPoly = new fabric.Polygon(transformedPoints, {\n            fill: pFill,\n            stroke: pStroke,\n            name: pName,\n            hasControls: false,\n            hasBorders: false,\n            selectable: false,\n            hoverCursor: \"default\",\n          });\n          canvas.add(updatedPoly);\n          canvas.sendToBack(updatedPoly);\n          anchors.current = [];\n          transformedPoints.forEach(function (p, index) {\n            var anchor = new fabric.Circle({\n              left: p.x,\n              top: p.y,\n              radius: 15,\n              fill: \"green\",\n              originX: \"center\",\n              originY: \"center\",\n              hasControls: false,\n              hasBorders: false,\n              name: \"anchor-\" + id[2] + \"-\" + index,\n            });\n            canvas.add(anchor);\n            anchors.current.push(anchor);\n          });\n          canvas.renderAll();\n          return;\n        }\n        if (e.target.type === \"polygon\" && !editPoly.current) {\n          if (e.target.name.includes(\"rpolygon\")) return;\n          polyType.current = \"\";\n          editable = e.target;\n          editable.set({\n            hasControls: true,\n            hasBorders: true,\n            selectable: true,\n            hoverCursor: \"move\",\n          });\n          editPoly.current = true;\n          anchors.current.forEach(function (anchor) {\n            canvas.remove(anchor);\n          });\n          anchors.current = [];\n          canvas.renderAll();\n          return;\n        }\n      }\n    });\n\n    canvas.on(\"object:moving\", function (options) {\n      if (options.target.type !== \"circle\") {\n        if (openPoly.current !== null) {\n          openPoly.current = null;\n          editPoly.current = true;\n          anchors.current.forEach(function (anchor) {\n            canvas.remove(anchor);\n          });\n          anchors.current = [];\n          canvas.renderAll();\n          return;\n        }\n      }\n      if (options.target.type === \"circle\") {\n        var p = options.target;\n        //console.log(p.get(\"name\"));\n        if (p.name.includes(\"circle\")) return;\n        if (p.name.includes(\"arc\")) return;\n        var str = p.name.split(\"-\");\n        if (polyType.current === \"polyline\") {\n          var pname = \"shape-polyline-\" + str[1];\n        }\n        if (polyType.current === \"polygon\") {\n          pname = \"shape-polygon-\" + str[1];\n        }\n\n        //console.log(pname);\n        var object = null;\n        var objects = canvas.getObjects();\n        for (var i = 0; i < objects.length; i++) {\n          if (objects[i].name && objects[i].name === pname) {\n            object = objects[i];\n            break;\n          }\n        }\n        // console.log(object);\n        object.points[str[2]] = {\n          x: p.getCenterPoint().x,\n          y: p.getCenterPoint().y,\n        };\n\n        //console.log(p.getCenterPoint());\n        var pFill = object.get(\"fill\");\n        var pStroke = object.get(\"stroke\");\n        var pName = object.get(\"name\");\n        var pPoints = object.get(\"points\");\n        //UNCOMMENT LINES 39 - 42 TO HAVE A WORKAROUND\n        canvas.remove(object);\n        if (polyType.current === \"polyline\") {\n          var updatedPoly = new fabric.Polyline(pPoints, {\n            fill: pFill,\n            stroke: pStroke,\n            name: pName,\n            hasControls: false,\n            hasBorders: false,\n            selectable: false,\n            hoverCursor: \"default\",\n          });\n        }\n        if (polyType.current === \"polygon\") {\n          updatedPoly = new fabric.Polygon(pPoints, {\n            fill: pFill,\n            stroke: pStroke,\n            name: pName,\n            hasControls: false,\n            hasBorders: false,\n            selectable: false,\n            hoverCursor: \"default\",\n          });\n        }\n        canvas.add(updatedPoly);\n        canvas.sendToBack(updatedPoly);\n        canvas.renderAll();\n      }\n    });\n\n    canvas.on(\"mouse:up\", function (e) {\n      this.setViewportTransform(this.viewportTransform);\n      this.isDragging = false;\n      if (e.button === 2) return;\n      // this.selection = true;\n      if (canvas.isDrawingMode) {\n        var allObjects = canvas.getObjects();\n        var path = allObjects[allObjects.length - 1];\n        path.set({ name: \"shape-path-\" + shapeCount.current });\n        //console.log(path);\n        shapeCount.current = shapeCount.current + 1;\n        canvas.setActiveObject(allObjects[allObjects.length - 1]);\n        canvas.renderAll();\n        //canvas.selection = true;\n        const newCanvasState = canvas.toJSON([\"name\"]);\n        // setCanvasState(newCanvasState);\n        // Save state to History and Limit history depth to 32\n        // setCanvasHistory((history) => [...history, newCanvasState].slice(-32));\n        saveCanvasState(newCanvasState);\n        // }\n      }\n\n      if (canvasTool === \"text\") {\n        //console.log(canvas.getObjects());\n        pointer.current = canvas.getPointer(e);\n        var text = new fabric.IText(\"Click to edit\", {\n          left: pointer.current.x,\n          top: pointer.current.y,\n          fontFamily: \"Arial\",\n          fontSize: \"30\",\n          // fontWeight: \"regular\",\n          //stroke: stroke,\n          // strokeWidth: strokeWidth,\n          // selectable: false,\n          hoverCursor: \"default\",\n          name: \"shape-text-\" + shapeCount.current,\n        });\n        //console.log(text);\n        canvas.add(text);\n        document.getElementById(\"select\").click();\n        canvas.setActiveObject(text);\n        canvas.renderAll();\n        shapeCount.current = shapeCount.current + 1;\n        // Save the canvas to State variable\n        const newCanvasState = canvas.toJSON([\"name\"]);\n\n        saveCanvasState(newCanvasState);\n      }\n      if (canvasTool === \"line\") {\n        if (newShape.current) {\n          pointer.current = canvas.getPointer(e);\n          var points = [\n            pointer.current.x,\n            pointer.current.y,\n            pointer.current.x,\n            pointer.current.y,\n          ];\n          line.current = new fabric.Line(points, {\n            strokeWidth: strokeWidth,\n            stroke:\n              \"rgba(\" +\n              stroke.r +\n              \", \" +\n              stroke.g +\n              \", \" +\n              stroke.b +\n              \", \" +\n              stroke.a +\n              \")\",\n            originX: \"center\",\n            originY: \"center\",\n            //selectable: false,\n            hoverCursor: \"default\",\n            name: \"shape-line-\" + shapeCount.current,\n          });\n          canvas.add(line.current);\n          shapeCount.current = shapeCount.current + 1;\n          newShape.current = false;\n        } else {\n          pointer.current = canvas.getPointer(e);\n          line.current.set({ x2: pointer.current.x, y2: pointer.current.y });\n          canvas.setActiveObject(line.current);\n          canvas.renderAll();\n          newShape.current = true;\n          // Save the canvas to State variable\n          const newCanvasState = canvas.toJSON([\"name\"]);\n          saveCanvasState(newCanvasState);\n        }\n      }\n      if (canvasTool === \"arrow\") {\n        if (newShape.current) {\n          pointer.current = canvas.getPointer(e);\n          let arrowLinePoints = [\n            pointer.current.x,\n            pointer.current.y,\n            pointer.current.x,\n            pointer.current.y,\n          ];\n          line.current = new fabric.Line(arrowLinePoints, {\n            stroke:\n              \"rgba(\" +\n              stroke.r +\n              \", \" +\n              stroke.g +\n              \", \" +\n              stroke.b +\n              \", \" +\n              stroke.a +\n              \")\",\n            strokeWidth: strokeWidth,\n          });\n          // reference points for arrowhead\n          origX.current = line.current.x2;\n          origY.current = line.current.y2;\n          let dx = line.current.x2 - line.current.x1,\n            dy = line.current.y2 - line.current.y1;\n          /* calculate angle.current of arrow.current */\n          angle.current = Math.atan2(dy, dx);\n          angle.current *= 180 / Math.PI;\n          angle.current += 90;\n\n          arrow.current = new fabric.Triangle({\n            angle: angle.current,\n            fill:\n              \"rgba(\" +\n              fill.r +\n              \", \" +\n              fill.g +\n              \", \" +\n              fill.b +\n              \", \" +\n              fill.a +\n              \")\",\n            top: line.current.y2,\n            left: line.current.x2,\n            width: 15,\n            height: 15,\n            originX: \"center\",\n            originY: \"center\",\n            stroke:\n              \"rgba(\" +\n              stroke.r +\n              \", \" +\n              stroke.g +\n              \", \" +\n              stroke.b +\n              \", \" +\n              stroke.a +\n              \")\",\n            strokeWidth: strokeWidth,\n          });\n          canvas.add(line.current);\n          canvas.add(arrow.current);\n          canvas.renderAll();\n          newShape.current = false;\n        } else {\n          canvas.remove(line.current);\n          canvas.remove(arrow.current);\n          selectedShape.current = new fabric.Group(\n            [line.current, arrow.current],\n            {\n              hasBorders: true,\n              hasControls: true,\n              selectable: false,\n              hoverCursor: \"default\",\n            }\n          );\n          shapeCount.current = shapeCount.current + 1;\n          selectedShape.current.set(\n            \"name\",\n            \"shape-arrow-\" + shapeCount.current + 1\n          );\n          canvas.add(selectedShape.current);\n          canvas.setActiveObject(selectedShape.current);\n          newShape.current = true;\n          // Save the canvas to State variable\n          const newCanvasState = canvas.toJSON([\"name\"]);\n          // setCanvasState(newCanvasState);\n          // Save state to History and Limit history depth to 32\n          //  setCanvasHistory((history) =>\n          //   [...history, newCanvasState].slice(-32)\n          //  );\n          saveCanvasState(newCanvasState);\n        }\n      }\n      if (canvasTool === \"polyline\") {\n        if (newShape.current) {\n          polyPoints.current = [];\n          isDrawing.current = true;\n          pointer.current = canvas.getPointer(e);\n          polyPoints.current.push(pointer.current);\n          line.current = new fabric.Line(\n            [\n              pointer.current.x,\n              pointer.current.y,\n              pointer.current.x,\n              pointer.current.y,\n            ],\n            {\n              stroke:\n                \"rgba(\" +\n                stroke.r +\n                \", \" +\n                stroke.g +\n                \", \" +\n                stroke.b +\n                \", \" +\n                stroke.a +\n                \")\",\n              strokeWidth: strokeWidth,\n              hasControls: false,\n              hasBorders: false,\n              selectable: false,\n              lockMovementX: true,\n              lockMovementY: true,\n              hoverCursor: \"default\",\n              originX: \"center\",\n              originY: \"center\",\n            }\n          );\n          canvas.add(line.current);\n          //polyLines.current.push(polyline);\n          newShape.current = false;\n        } else {\n          pointer.current = canvas.getPointer(e);\n          line.current.set({ x1: pointer.current.x, y1: pointer.current.y });\n          polyPoints.current.push(pointer.current);\n          if (polyPoints.current.length > 1) {\n            var startPoint = polyPoints.current[polyPoints.current.length - 2];\n            var endPoint = polyPoints.current[polyPoints.current.length - 1];\n            var newPolyLine = new fabric.Line(\n              [startPoint.x, startPoint.y, endPoint.x, endPoint.y],\n              {\n                stroke:\n                  \"rgba(\" +\n                  stroke.r +\n                  \", \" +\n                  stroke.g +\n                  \", \" +\n                  stroke.b +\n                  \", \" +\n                  stroke.a +\n                  \")\",\n                strokeWidth: strokeWidth,\n                hasControls: false,\n                hasBorders: false,\n                selectable: false,\n                lockMovementX: true,\n                lockMovementY: true,\n                hoverCursor: \"default\",\n                originX: \"center\",\n                originY: \"center\",\n              }\n            );\n            canvas.add(newPolyLine);\n            polyLines.current.push(newPolyLine);\n            canvas.renderAll();\n          }\n        }\n      }\n      if (canvasTool === \"polygon\") {\n        if (newShape.current) {\n          polyPoints.current = [];\n          isDrawing.current = true;\n          pointer.current = canvas.getPointer(e);\n          polyPoints.current.push(pointer.current);\n          line.current = new fabric.Line(\n            [\n              pointer.current.x,\n              pointer.current.y,\n              pointer.current.x,\n              pointer.current.y,\n            ],\n            {\n              stroke:\n                \"rgba(\" +\n                stroke.r +\n                \", \" +\n                stroke.g +\n                \", \" +\n                stroke.b +\n                \", \" +\n                stroke.a +\n                \")\",\n              strokeWidth: strokeWidth,\n              hasControls: false,\n              hasBorders: false,\n              selectable: false,\n              lockMovementX: true,\n              lockMovementY: true,\n              hoverCursor: \"default\",\n              originX: \"center\",\n              originY: \"center\",\n            }\n          );\n          canvas.add(line.current);\n          newShape.current = false;\n        } else {\n          pointer.current = canvas.getPointer(e);\n          line.current.set({ x1: pointer.current.x, y1: pointer.current.y });\n          polyPoints.current.push(pointer.current);\n          if (polyPoints.current.length > 1) {\n            startPoint = polyPoints.current[polyPoints.current.length - 2];\n            endPoint = polyPoints.current[polyPoints.current.length - 1];\n            newPolyLine = new fabric.Line(\n              [startPoint.x, startPoint.y, endPoint.x, endPoint.y],\n              {\n                stroke:\n                  \"rgba(\" +\n                  stroke.r +\n                  \", \" +\n                  stroke.g +\n                  \", \" +\n                  stroke.b +\n                  \", \" +\n                  stroke.a +\n                  \")\",\n                strokeWidth: strokeWidth,\n                hasControls: false,\n                hasBorders: false,\n                selectable: false,\n                lockMovementX: true,\n                lockMovementY: true,\n                hoverCursor: \"default\",\n                originX: \"center\",\n                originY: \"center\",\n              }\n            );\n            canvas.add(newPolyLine);\n            polyLines.current.push(newPolyLine);\n            canvas.renderAll();\n          }\n        }\n      }\n      if (canvasTool === \"rpolygon\") {\n        if (newShape.current) {\n          pointer.current = canvas.getPointer(e);\n          origX.current = pointer.current.x;\n          origY.current = pointer.current.y;\n          rpolygon.current = new fabric.Polygon(\n            calcPolygonPoints(\n              8,\n              Math.abs(origX.current - pointer.current.x) / 2\n            ),\n            {\n              objectCaching: false,\n              left: origX.current,\n              top: origY.current,\n              originX: \"center\",\n              originY: \"center\",\n              fill:\n                \"rgba(\" +\n                fill.r +\n                \", \" +\n                fill.g +\n                \", \" +\n                fill.b +\n                \", \" +\n                fill.a +\n                \")\",\n              perPixelTargetFind: false,\n              strokeWidth: strokeWidth,\n              stroke:\n                \"rgba(\" +\n                stroke.r +\n                \", \" +\n                stroke.g +\n                \", \" +\n                stroke.b +\n                \", \" +\n                stroke.a +\n                \")\",\n              hasControls: false,\n              hasBorders: false,\n              name: \"shape-rpolygon-\" + shapeCount.current,\n            }\n          );\n          canvas.add(rpolygon.current);\n          newShape.current = false;\n          shapeCount.current++;\n        } else {\n          newShape.current = true;\n          var matrix = rpolygon.current.calcTransformMatrix();\n          var transformedPoints = rpolygon.current\n            .get(\"points\")\n            .map(function (p) {\n              return new fabric.Point(\n                p.x - rpolygon.current.pathOffset.x,\n                p.y - rpolygon.current.pathOffset.y\n              );\n            })\n            .map(function (p) {\n              return fabric.util.transformPoint(p, matrix);\n            });\n          canvas.remove(rpolygon.current);\n          var updatedPoly = new fabric.Polygon(transformedPoints, {\n            fill:\n              \"rgba(\" +\n              fill.r +\n              \", \" +\n              fill.g +\n              \", \" +\n              fill.b +\n              \", \" +\n              fill.a +\n              \")\",\n            stroke:\n              \"rgba(\" +\n              stroke.r +\n              \", \" +\n              stroke.g +\n              \", \" +\n              stroke.b +\n              \", \" +\n              stroke.a +\n              \")\",\n            name: \"shape-rpolygon-\" + shapeCount.current,\n            // hasControls: false,\n            // hasBorders: false,\n            //selectable: false,\n            hoverCursor: \"default\",\n          });\n          canvas.add(updatedPoly);\n          canvas.setActiveObject(updatedPoly);\n          canvas.renderAll();\n          // Save the canvas to State variable\n          const newCanvasState = canvas.toJSON([\"name\"]);\n\n          saveCanvasState(newCanvasState);\n        }\n      }\n      if (canvasTool === \"rect\") {\n        if (newShape.current) {\n          pointer.current = canvas.getPointer(e);\n          origX.current = pointer.current.x;\n          origY.current = pointer.current.y;\n          Rectangle.current = new fabric.Rect({\n            left: origX.current,\n            top: origY.current,\n            fill:\n              \"rgba(\" +\n              fill.r +\n              \", \" +\n              fill.g +\n              \", \" +\n              fill.b +\n              \", \" +\n              fill.a +\n              \")\",\n            stroke:\n              \"rgba(\" +\n              stroke.r +\n              \", \" +\n              stroke.g +\n              \", \" +\n              stroke.b +\n              \", \" +\n              stroke.a +\n              \")\",\n            strokeWidth: strokeWidth,\n            strokeDashArray: [dashSize, gapSize],\n            opacity: opacity,\n            selectable: false,\n            hoverCursor: \"default\",\n            name: \"shape-rect-\" + shapeCount.current,\n          });\n          shapeCount.current++;\n          canvas.add(Rectangle.current);\n          newShape.current = false;\n        } else {\n          pointer.current = canvas.getPointer(e);\n          if (origX.current > pointer.current.x) {\n            Rectangle.current.set({ left: Math.abs(pointer.current.x) });\n          }\n          if (origY.current > pointer.current.y) {\n            Rectangle.current.set({ top: Math.abs(pointer.current.y) });\n          }\n          Rectangle.current.set({\n            width: Math.abs(origX.current - pointer.current.x),\n          });\n          Rectangle.current.set({\n            height: Math.abs(origY.current - pointer.current.y),\n          });\n          newShape.current = true;\n          canvas.setActiveObject(Rectangle.current);\n          canvas.renderAll();\n          // Save the canvas to State variable\n          const newCanvasState = canvas.toJSON([\"name\"]);\n          // setCanvasState(newCanvasState);\n          // Save state to History and Limit history depth to 32\n          // setCanvasHistory((history) =>\n          //    [...history, newCanvasState].slice(-32)\n          //  );\n          saveCanvasState(newCanvasState);\n        }\n      }\n      if (canvasTool === \"arc\") {\n        if (newShape.current) {\n          pointer.current = canvas.getPointer(e);\n          origX.current = pointer.current.x;\n          origY.current = pointer.current.y;\n          circle.current = new fabric.Circle({\n            left: origX.current,\n            top: origY.current,\n            originX: \"left\",\n            originY: \"top\",\n            radius: pointer.current.x - origX.current,\n            angle: 45,\n            startAngle: 0,\n            endAngle: Math.PI,\n            fill:\n              \"rgba(\" +\n              fill.r +\n              \", \" +\n              fill.g +\n              \", \" +\n              fill.b +\n              \", \" +\n              fill.a +\n              \")\",\n            stroke:\n              \"rgba(\" +\n              stroke.r +\n              \", \" +\n              stroke.g +\n              \", \" +\n              stroke.b +\n              \", \" +\n              stroke.a +\n              \")\",\n            strokeWidth: strokeWidth,\n            selectable: false,\n            hoverCursor: \"default\",\n            name: \"shape-arc-\" + shapeCount.current,\n          });\n          canvas.add(circle.current);\n          newShape.current = false;\n          shapeCount.current++;\n        } else {\n          pointer.current = canvas.getPointer(e);\n          var radius =\n            Math.max(\n              Math.abs(origY.current - pointer.current.y),\n              Math.abs(origX.current - pointer.current.x)\n            ) / 2;\n          if (radius > circle.current.strokeWidth) {\n            radius -= circle.current.strokeWidth / 2;\n          }\n          circle.current.set({ radius: radius });\n\n          if (origX.current > pointer.current.x) {\n            circle.current.set({ originX: \"right\" });\n          } else {\n            circle.current.set({ originX: \"left\" });\n          }\n          if (origY.current > pointer.current.y) {\n            circle.current.set({ originY: \"bottom\" });\n          } else {\n            circle.current.set({ originY: \"top\" });\n          }\n          newShape.current = true;\n          canvas.setActiveObject(circle.current);\n          canvas.renderAll();\n          // Save the canvas to State variable\n          const newCanvasState = canvas.toJSON([\"name\"]);\n          // setCanvasState(newCanvasState);\n          // Save state to History and Limit history depth to 32\n          ///  setCanvasHistory((history) =>\n          //    [...history, newCanvasState].slice(-32)\n          // );\n          saveCanvasState(newCanvasState);\n        }\n      }\n      if (canvasTool === \"circle\") {\n        if (newShape.current) {\n          pointer.current = canvas.getPointer(e);\n          origX.current = pointer.current.x;\n          origY.current = pointer.current.y;\n          circle.current = new fabric.Circle({\n            left: origX.current,\n            top: origY.current,\n            originX: \"left\",\n            originY: \"top\",\n            radius: pointer.current.x - origX.current,\n            angle: 0,\n            fill:\n              \"rgba(\" +\n              fill.r +\n              \", \" +\n              fill.g +\n              \", \" +\n              fill.b +\n              \", \" +\n              fill.a +\n              \")\",\n            stroke:\n              \"rgba(\" +\n              stroke.r +\n              \", \" +\n              stroke.g +\n              \", \" +\n              stroke.b +\n              \", \" +\n              stroke.a +\n              \")\",\n            strokeWidth: strokeWidth,\n            selectable: false,\n            hoverCursor: \"default\",\n            name: \"shape-circle-\" + shapeCount.current,\n          });\n          canvas.add(circle.current);\n          newShape.current = false;\n          shapeCount.current++;\n        } else {\n          pointer.current = canvas.getPointer(e);\n          radius =\n            Math.max(\n              Math.abs(origY.current - pointer.current.y),\n              Math.abs(origX.current - pointer.current.x)\n            ) / 2;\n          if (radius > circle.current.strokeWidth) {\n            radius -= circle.current.strokeWidth / 2;\n          }\n          circle.current.set({ radius: radius });\n\n          if (origX.current > pointer.current.x) {\n            circle.current.set({ originX: \"right\" });\n          } else {\n            circle.current.set({ originX: \"left\" });\n          }\n          if (origY.current > pointer.current.y) {\n            circle.current.set({ originY: \"bottom\" });\n          } else {\n            circle.current.set({ originY: \"top\" });\n          }\n          newShape.current = true;\n          canvas.setActiveObject(circle.current);\n          canvas.renderAll();\n          // Save the canvas to State variable\n          const newCanvasState = canvas.toJSON([\"name\"]);\n          // setCanvasState(newCanvasState);\n          // Save state to History and Limit history depth to 32\n          //  setCanvasHistory((history) =>\n          //    [...history, newCanvasState].slice(-32)\n          //  );\n          saveCanvasState(newCanvasState);\n        }\n      }\n      if (canvasTool === \"ellipse\") {\n        if (newShape.current) {\n          pointer.current = canvas.getPointer(e);\n          origX.current = pointer.current.x;\n          origY.current = pointer.current.y;\n          ellipse.current = new fabric.Ellipse({\n            left: origX.current,\n            top: origY.current,\n            originX: \"left\",\n            originY: \"top\",\n            rx: pointer.current.x - origX.current,\n            ry: pointer.current.y - origY.current,\n            angle: 0,\n            fill:\n              \"rgba(\" +\n              fill.r +\n              \", \" +\n              fill.g +\n              \", \" +\n              fill.b +\n              \", \" +\n              fill.a +\n              \")\",\n            stroke:\n              \"rgba(\" +\n              stroke.r +\n              \", \" +\n              stroke.g +\n              \", \" +\n              stroke.b +\n              \", \" +\n              stroke.a +\n              \")\",\n            strokeWidth: strokeWidth,\n            type: \"ellipse\",\n            selectable: false,\n            hoverCursor: \"default\",\n            name: \"shape-ellipse-\" + shapeCount.current,\n          });\n          canvas.add(ellipse.current);\n          newShape.current = false;\n        } else {\n          pointer.current = canvas.getPointer(e);\n          var rx = Math.abs(origX.current - pointer.current.x) / 2;\n          var ry = Math.abs(origY.current - pointer.current.y) / 2;\n          if (rx > ellipse.current.strokeWidth) {\n            rx -= ellipse.current.strokeWidth / 2;\n          }\n          if (ry > ellipse.current.strokeWidth) {\n            ry -= ellipse.current.strokeWidth / 2;\n          }\n          ellipse.current.set({ rx: rx, ry: ry });\n\n          if (origX.current > pointer.current.x) {\n            ellipse.current.set({ originX: \"right\" });\n          } else {\n            ellipse.current.set({ originX: \"left\" });\n          }\n          if (origY.current > pointer.current.y) {\n            ellipse.current.set({ originY: \"bottom\" });\n          } else {\n            ellipse.current.set({ originY: \"top\" });\n          }\n          newShape.current = true;\n          canvas.setActiveObject(ellipse.current);\n          canvas.renderAll();\n          // Save the canvas to State variable\n          const newCanvasState = canvas.toJSON([\"name\"]);\n          // setCanvasState(newCanvasState);\n          // Save state to History and Limit history depth to 32\n          //  setCanvasHistory((history) =>\n          //    [...history, newCanvasState].slice(-32)\n          //  );\n          saveCanvasState(newCanvasState);\n        }\n      }\n      //check if user clicked an object\n      if (e.target) {\n        if (!editPoly.current) return;\n        var activeShape = canvas.getActiveObject();\n        //if (activeShape.length > 1) return;\n        // console.log(activeShape.type);\n        if (activeShape) {\n          if (activeShape.stroke && activeShape.type !== \"i-text\") {\n            if (currentStroke.current !== null) {\n              var rgba = currentStroke.current\n                .substr(5)\n                .split(\")\")[0]\n                .split(\",\");\n              setStrokeColor({\n                r: rgba[0],\n                g: rgba[1],\n                b: rgba[2],\n                a: rgba[3],\n              });\n            }\n            setStrokeWidth(activeShape.strokeWidth);\n          }\n          if (activeShape.fill) {\n            rgba = activeShape.fill.substr(5).split(\")\")[0].split(\",\");\n            setFillColor({ r: rgba[0], g: rgba[1], b: rgba[2], a: rgba[3] });\n          }\n          //console.log(activeShape.opacity);\n          if (Number.isNaN(activeShape.opacity)) setOpacity(100);\n          else setOpacity(activeShape.opacity * 100);\n          //setOpacity(activeShape.opacity * 100);\n          //setFont(activeShape.fontFamily);\n          ///setFontSize(activeShape.fontSize);\n          //setFontWeight(activeShape.fontWeight);\n          //setFontStyle(activeShape.fontStyle);\n        }\n      }\n    });\n\n    canvas.on(\"mouse:wheel\", function (opt) {\n      var delta = opt.e.deltaY;\n      var zoom = canvas.getZoom();\n      zoom *= 0.999 ** delta;\n      if (zoom > 20) zoom = 20;\n      if (zoom < 0.01) zoom = 0.01;\n      canvas.zoomToPoint({ x: opt.e.offsetX, y: opt.e.offsetY }, zoom);\n      opt.e.preventDefault();\n      opt.e.stopPropagation();\n      var vpt = this.viewportTransform;\n      if (zoom < 400 / 1000) {\n        vpt[4] = 200 - (1000 * zoom) / 2;\n        vpt[5] = 200 - (1000 * zoom) / 2;\n      } else {\n        if (vpt[4] >= 0) {\n          vpt[4] = 0;\n        } else if (vpt[4] < canvas.getWidth() - 1000 * zoom) {\n          vpt[4] = canvas.getWidth() - 1000 * zoom;\n        }\n        if (vpt[5] >= 0) {\n          vpt[5] = 0;\n        } else if (vpt[5] < canvas.getHeight() - 1000 * zoom) {\n          vpt[5] = canvas.getHeight() - 1000 * zoom;\n        }\n      }\n    });\n    canvas.on(\"mouse:down\", function (opt) {\n      if (canvasTool !== \"select\") {\n        this.selection = false;\n      }\n      var evt = opt.e;\n      if (opt.button === 2) {\n        this.isDragging = true;\n        this.selection = false;\n        this.lastPosX = evt.clientX;\n        this.lastPosY = evt.clientY;\n      }\n    });\n    canvas.on(\"mouse:move\", function (opt) {\n      if (this.isDragging) {\n        var e = opt.e;\n        var vpt = this.viewportTransform;\n        vpt[4] += e.clientX - this.lastPosX;\n        vpt[5] += e.clientY - this.lastPosY;\n        this.requestRenderAll();\n        this.lastPosX = e.clientX;\n        this.lastPosY = e.clientY;\n      }\n      if (newShape.current === true && canvasTool !== \"pen\") {\n        return;\n      }\n      if (canvasTool === \"rect\") {\n        pointer.current = canvas.getPointer(opt);\n        if (origX.current > pointer.current.x) {\n          Rectangle.current.set({ left: Math.abs(pointer.current.x) });\n        }\n        if (origY.current > pointer.current.y) {\n          Rectangle.current.set({ top: Math.abs(pointer.current.y) });\n        }\n        Rectangle.current.set({\n          width: Math.abs(origX.current - pointer.current.x),\n        });\n        Rectangle.current.set({\n          height: Math.abs(origY.current - pointer.current.y),\n        });\n        canvas.renderAll();\n      }\n      if (canvasTool === \"line\") {\n        pointer.current = canvas.getPointer(opt);\n        line.current.set({ x2: pointer.current.x, y2: pointer.current.y });\n        canvas.renderAll();\n      }\n      if (canvasTool === \"arrow\") {\n        pointer.current = canvas.getPointer(opt);\n        line.current.set({\n          x2: pointer.current.x,\n          y2: pointer.current.y,\n        });\n        let dx = line.current.x2 - line.current.x1,\n          dy = line.current.y2 - line.current.y1;\n        angle.current = Math.atan2(dy, dx);\n        angle.current *= 180 / Math.PI;\n        angle.current += 90;\n        arrow.current.set({\n          top: line.current.y2,\n          left: line.current.x2,\n          angle: angle.current,\n          width: 15,\n          height: 15,\n        });\n        canvas.renderAll();\n      }\n      if (canvasTool === \"polyline\") {\n        if (isDrawing.current) {\n          var endPoint = canvas.getPointer(opt);\n          line.current.set({\n            x2: endPoint.x,\n            y2: endPoint.y,\n          });\n          canvas.renderAll();\n        }\n      }\n      if (canvasTool === \"polygon\") {\n        if (isDrawing.current) {\n          endPoint = canvas.getPointer(opt);\n          line.current.set({\n            x2: endPoint.x,\n            y2: endPoint.y,\n          });\n          canvas.renderAll();\n        }\n      }\n      if (canvasTool === \"rpolygon\") {\n        pointer.current = canvas.getPointer(opt);\n        rpolygon.current.set({\n          points: calcPolygonPoints(\n            8,\n            Math.abs(origX.current - pointer.current.x) / 2\n          ),\n          left: origX.current,\n          top: origY.current,\n        });\n        canvas.renderAll();\n      }\n      if (canvasTool === \"arc\") {\n        pointer.current = canvas.getPointer(opt);\n        var radius =\n          Math.max(\n            Math.abs(origY.current - pointer.current.y),\n            Math.abs(origX.current - pointer.current.x)\n          ) / 2;\n        if (radius > circle.current.strokeWidth) {\n          radius -= circle.current.strokeWidth / 2;\n        }\n        circle.current.set({ radius: radius });\n        if (origX.current > pointer.current.x) {\n          circle.current.set({ originX: \"right\" });\n          circle.current.set({ angle: -135 });\n        } else {\n          circle.current.set({ originX: \"left\" });\n          circle.current.set({ angle: 135 });\n        }\n        if (origY.current > pointer.current.y) {\n          circle.current.set({ originY: \"bottom\" });\n        } else {\n          circle.current.set({ originY: \"top\" });\n        }\n        canvas.renderAll();\n      }\n      if (canvasTool === \"circle\") {\n        pointer.current = canvas.getPointer(opt);\n        radius =\n          Math.max(\n            Math.abs(origY.current - pointer.current.y),\n            Math.abs(origX.current - pointer.current.x)\n          ) / 2;\n        if (radius > circle.current.strokeWidth) {\n          radius -= circle.current.strokeWidth / 2;\n        }\n        circle.current.set({ radius: radius });\n        if (origX.current > pointer.current.x) {\n          circle.current.set({ originX: \"right\" });\n        } else {\n          circle.current.set({ originX: \"left\" });\n        }\n        if (origY.current > pointer.current.y) {\n          circle.current.set({ originY: \"bottom\" });\n        } else {\n          circle.current.set({ originY: \"top\" });\n        }\n        canvas.renderAll();\n      }\n      if (canvasTool === \"ellipse\") {\n        pointer.current = canvas.getPointer(opt);\n        var rx = Math.abs(origX.current - pointer.current.x) / 2;\n        var ry = Math.abs(origY.current - pointer.current.y) / 2;\n        if (rx > ellipse.current.strokeWidth) {\n          rx -= ellipse.current.strokeWidth / 2;\n        }\n        if (ry > ellipse.current.strokeWidth) {\n          ry -= ellipse.current.strokeWidth / 2;\n        }\n        ellipse.current.set({ rx: rx, ry: ry });\n        if (origX.current > pointer.current.x) {\n          ellipse.current.set({ originX: \"right\" });\n        } else {\n          ellipse.current.set({ originX: \"left\" });\n        }\n        if (origY.current > pointer.current.y) {\n          ellipse.current.set({ originY: \"bottom\" });\n        } else {\n          ellipse.current.set({ originY: \"top\" });\n        }\n        canvas.renderAll();\n      }\n    });\n\n    canvas.on(\"mouse:over\", function (e) {\n      /*\n      if (e.target) {\n        //console.log(currentStroke.current);\n        currentStroke.current = e.target.get(\"stroke\");\n        //console.log(currentStroke.current);\n        e.target.set(\"stroke\", \"rgba(255,0,0,1)\");\n        canvas.renderAll();\n      }\n      */\n    });\n\n    canvas.on(\"mouse:out\", function (e) {\n      /*\n      if (e.target) {\n        e.target.set(\"stroke\", currentStroke.current);\n        canvas.renderAll();\n      }\n      */\n    });\n\n    setCanvas(canvas);\n    return () => {\n      canvas.dispose();\n    };\n  }, [canvasRef, canvasTool, setCanvas]);\n\n  //const onUndo = useCallback(() => moveHistory(-1), [moveHistory]);\n  const onUndo = () => {\n    const present = past.pop();\n    const newFuture = [present, ...future];\n    setFuture(newFuture);\n    const previous = past[past.length - 1];\n    canvas.loadFromJSON(previous);\n    setPast(past);\n    console.log(past);\n  };\n  // const onRedo = useCallback(() => moveHistory(1), [moveHistory]);\n  const onRedo = () => {\n    const next = future[0];\n    canvas.loadFromJSON(next);\n    const newFuture = future.slice(1);\n    past.push(next);\n    setPast(past);\n    setFuture(newFuture);\n    console.log(future);\n  };\n  const setShapeAttributes = (attributes) => {\n    var activeShape = canvas.getActiveObject();\n    if (activeShape) {\n      var Attributes = attributes || {};\n      if (activeShape.type === \"group\") {\n        activeShape.item(0).set({\n          stroke: Attributes.stroke || activeShape.item(1).stroke,\n        });\n        activeShape.item(1).set({\n          stroke: Attributes.stroke || activeShape.item(1).stroke,\n          fill: Attributes.fill || activeShape.item(1).fill,\n        });\n      }\n      activeShape.set({\n        strokeWidth: Attributes.strokeWidth || activeShape.strokeWidth,\n        stroke:\n          Attributes.stroke === \"nill\"\n            ? null\n            : Attributes.stroke || activeShape.stroke,\n        fill:\n          Attributes.fill === \"nill\"\n            ? null\n            : Attributes.fill || activeShape.fill,\n        opacity: Attributes.opacity / 100 || activeShape.opacity,\n        strokeDashArray:\n          Attributes.strokeDashArray || activeShape.strokeDashArray,\n        fontFamily: Attributes.fontFamily || activeShape.fontFamily,\n        fontSize: Attributes.fontSize || activeShape.fontSize,\n        fontWeight: Attributes.fontWeight || activeShape.fontWeight,\n        fontStyle: Attributes.fontStyle || activeShape.fontStyle,\n        textBackgroundColor:\n          Attributes.textBackgroundColor || activeShape.textBackgroundColor,\n      });\n      canvas.renderAll();\n      canvas.setActiveObject(activeShape);\n      const newCanvasState = canvas.toJSON([\"name\"]);\n      saveCanvasState(newCanvasState);\n    }\n  };\n\n  function deleteObjects() {\n    if (canvas.getActiveObjects().length === 0) {\n      // window.location.reload();\n      return;\n    }\n    canvas.getActiveObjects().forEach((obj) => {\n      canvas.remove(obj);\n    });\n    const newCanvasState = canvas.toJSON([\"name\"]);\n    saveCanvasState(newCanvasState);\n    window.location.reload();\n  }\n\n  var simulateMouseEvent = function (element, eventName, coordX, coordY) {\n    element.dispatchEvent(\n      new MouseEvent(eventName, {\n        view: window,\n        bubbles: true,\n        cancelable: true,\n        clientX: coordX,\n        clientY: coordY,\n        button: 0,\n      })\n    );\n  };\n\n  /*\n  function hexToRGB(hex, alpha) {\n    var r = parseInt(hex.slice(1, 3), 16),\n      g = parseInt(hex.slice(3, 5), 16),\n      b = parseInt(hex.slice(5, 7), 16);\n    if (alpha) {\n      return \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + alpha + \")\";\n    } else {\n      return \"rgb(\" + r + \", \" + g + \", \" + b + \")\";\n    }\n  }\n*/\n  function w3_openPanel(evt, panelId) {\n    if (currentOpenPanel !== panelId) {\n      document.getElementById(\"Library\").style.height = \"400px\";\n      document.getElementById(panelId).style.display = \"block\";\n      if (currentOpenPanel !== \"none\")\n        document.getElementById(currentOpenPanel).style.display = \"none\";\n      currentOpenPanel = panelId;\n      return;\n    }\n\n    if (currentOpenPanel === panelId) {\n      if (panelId === \"none\") return;\n      document.getElementById(panelId).style.display = \"none\";\n      currentOpenPanel = \"none\";\n      document.getElementById(\"Library\").style.height = \"0px\";\n    }\n    /*\n    else {\n      if (currentOpenPanel !== \"None\") {\n        document.getElementById(currentOpenPanel).style.display = \"none\";\n      }\n      document.getElementById(\"Library\").style.height = \"400px\";\n      document.getElementById(panelId).style.display = \"block\";\n      currentOpenPanel = panelId;\n    }\n    */\n  }\n\n  const setActiveTool = (e, id) => {\n    if (currentToolId.current !== null) {\n      //console.log(currentToolId);\n      document.getElementById(currentToolId.current).style.backgroundColor =\n        \"#003059\";\n      document.getElementById(id).style.backgroundColor = \"grey\";\n      currentToolId.current = id;\n      return;\n    } else {\n      //console.log(id);\n      document.getElementById(id).style.backgroundColor = \"grey\";\n      currentToolId.current = id;\n    }\n  };\n\n  function handleKeyDown(event) {\n    if (event.key === \"s\") {\n      setActiveTool(event, \"select\");\n      return;\n    }\n    if (event.key === \"Delete\") {\n      deleteObjects();\n      return;\n    }\n    if (event.ctrlKey && event.key === \"z\") {\n      if (past.length === 1) return;\n      onUndo();\n      return;\n    }\n    if (event.ctrlKey && event.key === \"y\") {\n      if (future.length === 0) return;\n      onRedo();\n      return;\n    }\n  }\n\n  let url = \"#\";\n\n  const swatchStyles = reactCSS({\n    default: {\n      stroke: {\n        width: \"36px\",\n        height: \"14px\",\n        borderRadius: \"2px\",\n        background: `rgba(${stroke.r}, ${stroke.g}, ${stroke.b}, ${stroke.a})`,\n      },\n      blank: {\n        width: \"36px\",\n        height: \"14px\",\n        borderRadius: \"2px\",\n      },\n      fill: {\n        width: \"36px\",\n        height: \"14px\",\n        borderRadius: \"2px\",\n        background: `rgba(${fill.r}, ${fill.g}, ${fill.b}, ${fill.a})`,\n      },\n      highlight: {\n        width: \"36px\",\n        height: \"14px\",\n        borderRadius: \"2px\",\n        background: `rgba(${textHighlight.r}, ${textHighlight.g}, ${textHighlight.b}, ${textHighlight.a})`,\n      },\n      swatch: {\n        padding: \"0px\",\n        background: \"#fff\",\n        borderRadius: \"1px\",\n        boxShadow: \"0 0 0 1px rgba(0,0,0,.1)\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        backgroundImage: \"url(images/no.png)\",\n      },\n      pickerContainer: {\n        display: \"inline-block\",\n      },\n      popover: {\n        position: \"absolute\",\n        zIndex: \"2\",\n      },\n      cover: {\n        position: \"fixed\",\n        top: \"50px\",\n        right: \"0px\",\n        bottom: \"0px\",\n        left: \"100px\",\n      },\n    },\n  });\n\n  return (\n    <MediaQuery minDeviceWidth={1224}>\n      <div\n        ref={mainDiv}\n        className=\"App\"\n        id=\"mainDiv\"\n        onKeyDown={(e) => {\n          handleKeyDown(e);\n          document.getElementById(\"my-fabric-canvas\").focus();\n        }}\n        tabIndex=\"0\"\n      >\n        <div className={tbStyles.propBar}>\n          <a href={url}>\n            <button\n              className={tbStyles.buttontoolbar}\n              onClick={onUndo}\n              id=\"undo\"\n              //disabled={canvasHistory[0] === canvasState}\n              disabled={past.length === 1}\n            >\n              <div className={tbStyles.tooltipDown}>\n                <img src=\"images/undo2.png\" alt=\"Undo\"></img>\n                <span className={tbStyles.tooltiptextDown}>Undo</span>\n              </div>\n            </button>\n            <button\n              className={tbStyles.buttontoolbar}\n              onClick={onRedo}\n              id=\"redo\"\n              //disabled={canvasHistory[canvasHistory.length - 1] === canvasState}\n              disabled={future.length === 0}\n            >\n              <div className={tbStyles.tooltipDown}>\n                <img src=\"images/redo2.png\" alt=\"Redo\"></img>\n                <span className={tbStyles.tooltiptextDown}>Redo</span>\n              </div>\n            </button>\n            <button\n              className={tbStyles.buttontoolbar}\n              onClick={deleteObjects}\n              id=\"del\"\n            >\n              <div className={tbStyles.tooltipDown}>\n                <img src=\"images/delete2.png\" alt=\"Delete\"></img>\n                <span className={tbStyles.tooltiptextDown}>Delete</span>\n              </div>\n            </button>\n          </a>\n          <div className={tbStyles.dropdown}>\n            <button className={tbStyles.buttontoolbar} id=\"wList\">\n              <img src=\"images/lineWidth2.png\" alt=\"Line Width\"></img>\n              <div id=\"wlDropDown\" className={tbStyles.dropdowncontent}>\n                <a\n                  href={url}\n                  onClick={(e) => {\n                    setStrokeWidth(1);\n                    setShapeAttributes({\n                      strokeWidth: 1,\n                    });\n                  }}\n                >\n                  <img src=\"images/stroke1.png\" alt=\"1\"></img>\n                </a>\n                <a\n                  href={url}\n                  onClick={(e) => {\n                    setStrokeWidth(2);\n                    setShapeAttributes({\n                      strokeWidth: 2,\n                    });\n                  }}\n                >\n                  <img src=\"images/stroke2.png\" alt=\"2\"></img>\n                </a>\n                <a\n                  href={url}\n                  onClick={(e) => {\n                    setStrokeWidth(4);\n                    setShapeAttributes({\n                      strokeWidth: 4,\n                    });\n                  }}\n                >\n                  <img src=\"images/stroke4.png\" alt=\"4\"></img>\n                </a>\n                <a\n                  href={url}\n                  onClick={(e) => {\n                    setStrokeWidth(5);\n                    setShapeAttributes({\n                      strokeWidth: 5,\n                    });\n                  }}\n                >\n                  <img src=\"images/stroke5.png\" alt=\"5\"></img>\n                </a>\n                <a\n                  href={url}\n                  onClick={(e) => {\n                    setStrokeWidth(10);\n                    setShapeAttributes({\n                      strokeWidth: 10,\n                    });\n                  }}\n                >\n                  <img src=\"images/stroke10.png\" alt=\"10\"></img>\n                </a>\n                <a\n                  href={url}\n                  onClick={(e) => {\n                    setStrokeWidth(12);\n                    setShapeAttributes({\n                      strokeWidth: 12,\n                    });\n                  }}\n                >\n                  <img src=\"images/stroke12.png\" alt=\"12\"></img>\n                </a>\n                <a\n                  href={url}\n                  onClick={(e) => {\n                    setStrokeWidth(15);\n                    setShapeAttributes({\n                      strokeWidth: 15,\n                    });\n                  }}\n                >\n                  <img src=\"images/stroke15.png\" alt=\"15\"></img>\n                </a>\n                <a\n                  href={url}\n                  onClick={(e) => {\n                    setStrokeWidth(20);\n                    setShapeAttributes({\n                      strokeWidth: 20,\n                    });\n                  }}\n                >\n                  <img src=\"images/stroke20.png\" alt=\"20\"></img>\n                </a>\n                <a\n                  href={url}\n                  onClick={(e) => {\n                    setStrokeWidth(25);\n                    setShapeAttributes({\n                      strokeWidth: 25,\n                    });\n                  }}\n                >\n                  <img src=\"images/stroke25.png\" alt=\"25\"></img>\n                </a>\n              </div>\n            </button>\n          </div>\n          <div className={tbStyles.dropdown}>\n            <button className={tbStyles.buttontoolbar} id=\"sList\">\n              <img src=\"images/LineStyle2.png\" alt=\"Line Style\"></img>\n              <div id=\"lsDropDown\" className={tbStyles.dropdowncontent}>\n                <a\n                  href={url}\n                  onClick={(e) => {\n                    setDashSize(0);\n                    setGapSize(0);\n                    setShapeAttributes({\n                      strokeDashArray: [0, 0],\n                    });\n                  }}\n                >\n                  <img src=\"images/lineStyle1.png\" alt=\"1\"></img>\n                </a>\n                <a\n                  href={url}\n                  onClick={(e) => {\n                    setDashSize(10);\n                    setGapSize(5);\n                    setShapeAttributes({\n                      strokeDashArray: [10, 5],\n                    });\n                  }}\n                >\n                  <img src=\"images/lineStyle2png.png\" alt=\"1\"></img>\n                </a>\n                <a\n                  href={url}\n                  onClick={(e) => {\n                    setDashSize(10);\n                    setGapSize(5);\n                    setShapeAttributes({\n                      strokeDashArray: [10, 5],\n                    });\n                  }}\n                >\n                  <img src=\"images/lineStyle3.png\" alt=\"1\"></img>\n                </a>\n                <a\n                  href={url}\n                  onClick={(e) => {\n                    setDashSize(20);\n                    setGapSize(5);\n                    setShapeAttributes({\n                      strokeDashArray: [20, 5],\n                    });\n                  }}\n                >\n                  <img src=\"images/lineStyle4.png\" alt=\"1\"></img>\n                </a>\n                <a\n                  href={url}\n                  onClick={(e) => {\n                    setDashSize(20);\n                    setGapSize(10);\n                    setShapeAttributes({\n                      strokeDashArray: [20, 10],\n                    });\n                  }}\n                >\n                  <img src=\"images/lineStyle5.png\" alt=\"1\"></img>\n                </a>\n                <a\n                  href={url}\n                  onClick={(e) => {\n                    setDashSize(5);\n                    setGapSize(5);\n                    setShapeAttributes({\n                      strokeDashArray: [5, 5],\n                    });\n                  }}\n                >\n                  <img src=\"images/lineStyle6.png\" alt=\"1\"></img>\n                </a>\n                <a\n                  href={url}\n                  onClick={(e) => {\n                    setDashSize(2);\n                    setGapSize(2);\n                    setShapeAttributes({\n                      strokeDashArray: [2, 2],\n                    });\n                  }}\n                >\n                  <img src=\"images/lineStyle7.png\" alt=\"1\"></img>\n                </a>\n              </div>\n            </button>\n          </div>\n          <button className={tbStyles.buttontoolbar} id=\"dropper\">\n            <div className={tbStyles.tooltipDown}>\n              <img src=\"images/dropper2.png\" alt=\"Pick a color\"></img>\n              <span className={tbStyles.tooltiptextDown}>Pick a color</span>\n            </div>\n          </button>\n          &nbsp;Stroke&nbsp;\n          <input\n            type=\"number\"\n            id=\"strokePoint\"\n            value={strokeWidth}\n            min=\"0\"\n            max=\"50\"\n            onChange={(e) => {\n              setStrokeWidth(+e.target.value);\n              setShapeAttributes({\n                strokeWidth: +e.target.value,\n              });\n            }}\n          ></input>\n          &nbsp;Dash&nbsp;\n          <input\n            type=\"number\"\n            min=\"0\"\n            max=\"20\"\n            id=\"dashSize\"\n            value={dashSize}\n            onChange={(e) => {\n              setDashSize(+e.target.value);\n              setShapeAttributes({\n                strokeDashArray: [+e.target.value, +e.target.value],\n              });\n            }}\n          ></input>\n          &nbsp;Stroke Color&nbsp;\n          <div style={swatchStyles.pickerContainer}>\n            <div style={swatchStyles.swatch} onClick={StrokeSwatchClick}>\n              <div style={swatchStyles.stroke} />\n            </div>\n            {showStrokePicker ? (\n              <div style={swatchStyles.popover}>\n                <div style={swatchStyles.cover} onClick={StrokeSwatchClose} />\n                <SketchPicker color={stroke} onChange={StrokeSwatchChange} />\n              </div>\n            ) : null}\n          </div>\n          &nbsp;Fill Color&nbsp;\n          <div style={swatchStyles.pickerContainer}>\n            <div style={swatchStyles.swatch} onClick={FillSwatchClick}>\n              <div id=\"fillSwatch\" style={swatchStyles.fill} />\n            </div>\n            {showFillPicker ? (\n              <div style={swatchStyles.popover}>\n                <div style={swatchStyles.cover} onClick={FillSwatchClose} />\n                <SketchPicker color={fill} onChange={FillSwatchChange} />\n              </div>\n            ) : null}\n          </div>\n          &nbsp;HighlightText&nbsp;\n          <div style={swatchStyles.pickerContainer}>\n            <div style={swatchStyles.swatch} onClick={HighlightSwatchClick}>\n              <div style={swatchStyles.highlight} />\n            </div>\n            {showHighlightPicker ? (\n              <div style={swatchStyles.popover}>\n                <div\n                  style={swatchStyles.cover}\n                  onClick={HighlightSwatchClose}\n                />\n                <SketchPicker\n                  color={textHighlight}\n                  onChange={HighlightSwatchChange}\n                />\n              </div>\n            ) : null}\n          </div>\n          &nbsp;\n          <button\n            id=\"noStroke\"\n            onClick={(e) => {\n              setStrokeColor({ r: 255, g: 255, b: 255, a: 0 });\n              setShapeAttributes({\n                stroke: \"rgba(255,255,255,0)\",\n              });\n            }}\n          >\n            <div className={tbStyles.tooltipDown}>\n              <img src=\"images/noStroke2.png\" alt=\"No stroke\"></img>\n              <span className={tbStyles.tooltiptextDown}>Set No Stroke</span>\n            </div>\n          </button>\n          &nbsp;\n          <button\n            id=\"noFill\"\n            onClick={(e) => {\n              setFillColor({ r: 255, g: 255, b: 255, a: 0 });\n              setShapeAttributes({\n                fill: \"rgba(255,255,255,0)\",\n              });\n            }}\n          >\n            <div className={tbStyles.tooltipDown}>\n              <img src=\"images/noFill2.png\" alt=\"No fill\"></img>\n              <span className={tbStyles.tooltiptextDown}>Set No Fill</span>\n            </div>\n          </button>\n          &nbsp;Opacity\n          <input\n            type=\"range\"\n            id=\"opacityRange\"\n            value={opacity}\n            onChange={(e) => {\n              //opacity.current = e.target.value;\n              setOpacity(e.target.value);\n              setShapeAttributes({\n                opacity: e.target.value,\n              });\n            }}\n          ></input>\n          &nbsp; Angle snap:\n          <input\n            type=\"checkbox\"\n            id=\"chkSnap\"\n            onChange={(e) => {\n              //console.log(e.target.checked);\n              snap.current = e.target.checked;\n            }}\n          ></input>\n          &nbsp;Font\n          <select\n            name=\"fonts\"\n            id=\"fonts\"\n            onChange={(e) => {\n              setFont(e.target.value);\n              setShapeAttributes({ fontFamily: e.target.value });\n            }}\n          ></select>\n          &nbsp;Size\n          <input\n            type=\"number\"\n            id=\"fontSize\"\n            value={fontSize}\n            min=\"0\"\n            max=\"100\"\n            onChange={(e) => {\n              setFontSize(+e.target.value);\n              setShapeAttributes({\n                fontSize: +e.target.value,\n              });\n            }}\n          ></input>\n          &nbsp;\n          <label>\n            FontWeight:\n            <select\n              value={fontWeight}\n              onChange={(e) => {\n                setFontWeight(e.target.value);\n                setShapeAttributes({\n                  fontWeight: e.target.value,\n                });\n              }}\n            >\n              <option value=\"normal\">Normal</option>\n              <option value=\"bold\">Bold</option>\n            </select>\n          </label>\n          <label>\n            FontSyle:\n            <select\n              value={fontStyle}\n              onChange={(e) => {\n                setFontStyle(e.target.value);\n                setShapeAttributes({\n                  fontStyle: e.target.value,\n                });\n              }}\n            >\n              <option value=\"regular\">Regular</option>\n              <option value=\"italic\">Italic</option>\n            </select>\n          </label>\n        </div>\n        <div id=\"lMenu\" className={styles.menu}>\n          <div className={styles.tableft}>\n            <button\n              onMouseEnter={(e) => {\n                w3_openPanel(e, \"File\");\n              }}\n              onClick={(e) => {\n                w3_openPanel(e, currentOpenPanel);\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src=\"images/FileAccess2.png\" alt=\"FileAccess\"></img>\n                <span className={styles.tooltiptextleft}>File Access</span>\n              </div>\n            </button>\n            <button\n              onClick={(e) => {\n                w3_openPanel(e, currentOpenPanel);\n              }}\n              onMouseEnter={(e) => {\n                w3_openPanel(e, \"CanvasSet\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src=\"images/Canvas2.png\" alt=\"Canvas Settings\"></img>\n                <span className={styles.tooltiptextleft}>Canvas Settings</span>\n              </div>\n            </button>\n            <button\n              onClick={(e) => {\n                w3_openPanel(e, currentOpenPanel);\n              }}\n              onMouseEnter={(e) => {\n                w3_openPanel(e, \"LayerSet\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src=\"images/Layers2.png\" alt=\"Layers\"></img>\n                <span className={styles.tooltiptextleft}>Layers</span>\n              </div>\n            </button>\n            <button\n              onClick={(e) => {\n                w3_openPanel(e, currentOpenPanel);\n              }}\n              onMouseEnter={(e) => {\n                w3_openPanel(e, \"Warehouse\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src=\"images/Warehouse2.png\" alt=\"Warehouse\"></img>\n                <span className={styles.tooltiptextleft}>Warehouse</span>\n              </div>\n            </button>\n            <button\n              onClick={(e) => {\n                w3_openPanel(e, currentOpenPanel);\n              }}\n              onMouseEnter={(e) => {\n                w3_openPanel(e, \"Phases\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src=\"images/Phases2.png\" alt=\"Phases\"></img>\n                <span className={styles.tooltiptextleft}>Phases</span>\n              </div>\n            </button>\n            <button\n              onClick={(e) => {\n                w3_openPanel(e, currentOpenPanel);\n              }}\n              onMouseEnter={(e) => {\n                w3_openPanel(e, \"Measures\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src=\"images/Measure2.png\" alt=\"Measurements\"></img>\n                <span className={styles.tooltiptextleft}>Measures</span>\n              </div>\n            </button>\n            <button\n              onClick={(e) => {\n                w3_openPanel(e, currentOpenPanel);\n              }}\n              onMouseEnter={(e) => {\n                w3_openPanel(e, \"Animation\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src=\"images/Animation2.png\" alt=\"Animation\"></img>\n                <span className={styles.tooltiptextleft}>Phase Player</span>\n              </div>\n            </button>\n            <div className={styles.tabbar}></div>\n          </div>\n        </div>\n        <div id=\"Library\" className={styles.library}>\n          <div id=\"File\" className={styles.File} style={{ display: \"none\" }}>\n            File Access\n            <div className={styles.btngroup}>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/NewFile2.png\" alt=\"NewFile\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>New File</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/OpenFile2.png\" alt=\"OpenFile\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Open File</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/recentFile2.png\" alt=\"RecentFile\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Recent File</span>\n              </div>\n              <span\n                onclick={(e) => {\n                  document.getElementById(\"File\").style.display = \"none\";\n                }}\n                className={tbStyles.close}\n                title=\"Close Modal\"\n              >\n                &times;\n              </span>\n            </div>\n          </div>\n          <div\n            id=\"CanvasSet\"\n            className={styles.CanvasSet}\n            style={{ display: \"none\" }}\n          >\n            Canvas Settings\n            <div className={styles.btngroup}>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/CanvasSize2.png\" alt=\"CanvasSize\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Canvas Size</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/CanvasColor2.png\" alt=\"CanvasColor\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Canvas Color</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/CanvasImage2.png\" alt=\"CanvasImage\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Canvas Image</span>\n              </div>\n            </div>\n          </div>\n          <div\n            id=\"LayerSet\"\n            className={styles.LayerSet}\n            style={{ display: \"none\" }}\n          >\n            Layers\n            <div className={styles.sbtngroup}>\n              <div className={styles.tooltip}>\n                <button>\n                  <img\n                    src=\"images/InsertBefore2.png\"\n                    alt=\"AddLayerBefore\"\n                  ></img>\n                </button>\n                <span className={styles.tooltiptextB}>Add Layer Before</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/InsertAfter2.png\" alt=\"AddLayerAfter\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Add Layer After</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/Up2.png\" alt=\"LayerUp\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Layer Up</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/Down2.png\" alt=\"LayerDown\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Layer Down</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/Hide2.png\" alt=\"HideLayer\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Hide Layer</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/Lock2.png\" alt=\"LockLayer\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Lock Layer</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/SortAlpha2.png\" alt=\"SortLayer\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Sort layer</span>\n              </div>\n            </div>\n            <ul className={styles.a}>\n              <li>Shapes</li>\n              <ul>\n                <li>Circle</li>\n                <li>Rectangle</li>\n              </ul>\n              <li>Texts</li>\n              <li>Lines</li>\n            </ul>\n          </div>\n          <div\n            id=\"Warehouse\"\n            className={styles.Warehouse}\n            style={{ display: \"none\" }}\n          >\n            Warehouse\n            <div className={styles.btngroup}>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/Crane2.png\" alt=\"Crane\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Crane</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/Elevator2.png\" alt=\"Elevator\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Elevator</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/labels2.png\" alt=\"Labels\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Labels</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/CloudTool2.png\" alt=\"Cloud\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Cloud</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/CallOut2.png\" alt=\"Callout\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Callout</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/wedge2.png\" alt=\"Wedge\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Wedge</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/Ring2.png\" alt=\"Ring\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Ring</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/FilledArc2.png\" alt=\"FilledArc\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Filled Arc</span>\n              </div>\n            </div>\n          </div>\n          <div\n            id=\"Phases\"\n            className={styles.Phases}\n            style={{ display: \"none\" }}\n          >\n            Phases\n            <div className={styles.btngroup}>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/NewPhase2.png\" alt=\"NewPhase\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>NewPhase</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/StartDate2.png\" alt=\"StartDate\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Start Date</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/EndDate2.png\" alt=\"EndDate\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>End Date</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/DeletePhase2.png\" alt=\"DeletePhase\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Delete Phase </span>\n              </div>\n            </div>\n          </div>\n          <div\n            id=\"Measures\"\n            className={styles.Measures}\n            style={{ display: \"none\" }}\n          >\n            Measurement\n            <div className={styles.btngroup}>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/PageScale2.png\" alt=\"PageScale\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Page Scale</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/setunit2.png\" alt=\"SetUnits\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Set Units</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/Length2.png\" alt=\"Length\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Length</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/Perimeter2.png\" alt=\"Perimeter\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Perimeter</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/Area2.png\" alt=\"Area\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Area</span>\n              </div>\n            </div>\n          </div>\n          <div\n            id=\"Animation\"\n            className={styles.Animation}\n            style={{ display: \"none\" }}\n          >\n            Phase Player\n            <div className={styles.sbtngroup}>\n              <div className={styles.tooltip}>\n                <button>Phase1</button>\n                <span className={styles.tooltiptextB}>Play</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>Phase2</button>\n                <span className={styles.tooltiptextB}>Play</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>Phase3</button>\n                <span className={styles.tooltiptextB}>Play</span>\n              </div>\n            </div>\n            <div className={styles.sbtngroup}>\n              <div className={styles.tooltip}>\n                <button>\n                  <img src=\"images/Play2.png\" alt=\"Play\"></img>\n                </button>\n                <span className={styles.tooltiptextB}>Play/Stop</span>\n              </div>\n              <input type=\"range\" min=\"1\" max=\"100\"></input>\n              Play Speed\n              <div className={styles.tooltip}>\n                <button>1</button>\n                <span className={styles.tooltiptextB}>1 Day/Second</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>2</button>\n                <span className={styles.tooltiptextB}>2 Day/Second</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>5</button>\n                <span className={styles.tooltiptextB}>5 Day/Second</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>10</button>\n                <span className={styles.tooltiptextB}>10 Day/Second</span>\n              </div>\n              <div className={styles.tooltip}>\n                <button>30</button>\n                <span className={styles.tooltiptextB}>30 Day/Second</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className={styles.right} ref={rightBar}>\n          <div className={styles.tab}>\n            <button\n              id=\"select\"\n              onClick={(e) => {\n                canvas.isDrawingMode = false;\n                canvas.selection = true;\n                setCanvasTool(\"select\");\n                setActiveTool(e, \"select\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src={\"images/Select2.png\"} alt=\"Select\"></img>\n                <span className={styles.tooltiptext}>Selection</span>\n              </div>\n            </button>\n            <button\n              id=\"text\"\n              onClick={(e) => {\n                canvas.isDrawingMode = false;\n                canvas.selection = false;\n                setCanvasTool(\"text\");\n                setActiveTool(e, \"text\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src={\"images/TextBox2.png\"} alt=\"TextBox\"></img>\n                <span className={styles.tooltiptext}>Text</span>\n              </div>\n            </button>\n            <button\n              id=\"pen\"\n              onClick={(e) => {\n                setCanvasTool(\"pen\");\n                canvas.isDrawingMode = 1;\n                canvas.freeDrawingBrush.color = \"black\";\n                canvas.freeDrawingBrush.width = strokeWidth;\n                setActiveTool(e, \"pen\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src={\"images/PenTool2.png\"} alt=\"Pen\"></img>\n                <span className={styles.tooltiptext}>Free-hand</span>\n              </div>\n            </button>\n            <button\n              id=\"cloud\"\n              onClick={(e) => {\n                canvas.isDrawingMode = false;\n                canvas.selection = false;\n                setCanvasTool(\"cloud\");\n                setActiveTool(e, \"cloud\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src={\"images/Cloud2.png\"} alt=\"Cloud\"></img>\n                <span className={styles.tooltiptext}>Cloud</span>\n              </div>\n            </button>\n            <button\n              id=\"callout\"\n              onClick={(e) => {\n                canvas.isDrawingMode = false;\n                canvas.selection = false;\n                setCanvasTool(\"callout\");\n                setActiveTool(e, \"callout\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src={\"images/CallOut2.png\"} alt=\"Callout\"></img>\n                <span className={styles.tooltiptext}>Callout</span>\n              </div>\n            </button>\n            <button\n              id=\"image\"\n              onClick={(e) => {\n                canvas.isDrawingMode = false;\n                canvas.selection = false;\n                setCanvasTool(\"image\");\n                setActiveTool(e, \"image\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src={\"images/Image2.png\"} alt=\"Edit\"></img>\n                <span className={styles.tooltiptext}>Image Edit</span>\n              </div>\n            </button>\n            <div className={styles.tabspace}></div>\n            <button\n              id=\"line\"\n              onClick={(e) => {\n                canvas.isDrawingMode = false;\n                canvas.selection = false;\n                editPoly.current = true;\n                setCanvasTool(\"line\");\n                setActiveTool(e, \"line\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src={\"images/Line2.png\"} alt=\"Line\"></img>\n                <span className={styles.tooltiptext}>Line</span>\n              </div>\n            </button>\n            <button\n              id=\"polyline\"\n              onClick={(e) => {\n                canvas.isDrawingMode = false;\n                setCanvasTool(\"polyline\");\n                setActiveTool(e, \"polyline\");\n                canvas.selection = false;\n                var objects = canvas.getObjects();\n                for (var i = 0; i < objects.length; i++) {\n                  objects[i].set({ selectable: false, evented: false });\n                }\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src={\"images/Polyline2.png\"} alt=\"Polyline\"></img>\n                <span className={styles.tooltiptext}>Polyline</span>\n              </div>\n            </button>\n            <button\n              id=\"arrow\"\n              onClick={(e) => {\n                canvas.isDrawingMode = false;\n                canvas.selection = false;\n                setCanvasTool(\"arrow\");\n                setActiveTool(e, \"arrow\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src={\"images/Arrow2.png\"} alt=\"Arrow\"></img>\n                <span className={styles.tooltiptext}>Arrow</span>\n              </div>\n            </button>\n            <button\n              id=\"arc\"\n              onClick={(e) => {\n                canvas.isDrawingMode = false;\n                canvas.selection = false;\n                setCanvasTool(\"arc\");\n                setActiveTool(e, \"arc\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src={\"images/Arc2.png\"} alt=\"Arc\"></img>\n                <span className={styles.tooltiptext}>Arc</span>\n              </div>\n            </button>\n            <button\n              id=\"rect\"\n              onClick={(e) => {\n                canvas.isDrawingMode = false;\n                canvas.selection = false;\n                canvas.selection = false;\n                canvas.forEachObject(function (o) {\n                  o.selectable = false;\n                });\n                canvas.renderAll();\n                setCanvasTool(\"rect\");\n                setActiveTool(e, \"rect\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src={\"images/Rectangle2.png\"} alt=\"Rectangle\"></img>\n                <span className={styles.tooltiptext}>Rectangle.current</span>\n              </div>\n            </button>\n            <button\n              id=\"polygon\"\n              onClick={(e) => {\n                canvas.isDrawingMode = false;\n                canvas.selection = false;\n                setCanvasTool(\"polygon\");\n                setActiveTool(e, \"polygon\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src={\"images/Polygon2.png\"} alt=\"Polygon\"></img>\n                <span className={styles.tooltiptext}>Polygon</span>\n              </div>\n            </button>\n            <button\n              id=\"rpolygon\"\n              onClick={(e) => {\n                canvas.isDrawingMode = false;\n                canvas.selection = false;\n                setCanvasTool(\"rpolygon\");\n                setActiveTool(e, \"rpolygon\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src={\"images/RPolygon2.png\"} alt=\"Regular Polygon\"></img>\n                <span className={styles.tooltiptext}>Regular Polygon</span>\n              </div>\n            </button>\n            <button\n              id=\"circle\"\n              onClick={(e) => {\n                canvas.isDrawingMode = false;\n                canvas.selection = false;\n                setCanvasTool(\"circle\");\n                setActiveTool(e, \"circle\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src={\"images/Circle2.png\"} alt=\"Circle\"></img>\n                <span className={styles.tooltiptext}>Circle</span>\n              </div>\n            </button>\n            <button\n              id=\"ellipse\"\n              onClick={(e) => {\n                canvas.isDrawingMode = false;\n                canvas.selection = false;\n                setCanvasTool(\"ellipse\");\n                setActiveTool(e, \"ellipse\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src={\"images/Ellipse2.png\"} alt=\"Ellipse\"></img>\n                <span className={styles.tooltiptext}>Ellipse</span>\n              </div>\n            </button>\n            <div className={styles.tabspace}></div>\n            <button\n              id=\"dimension\"\n              onClick={(e) => {\n                canvas.isDrawingMode = false;\n                canvas.selection = false;\n                setCanvasTool(\"dimension\");\n                setActiveTool(e, \"dimension\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src={\"images/Dimension2.png\"} alt=\"Dimension\"></img>\n                <span className={styles.tooltiptext}>Dimension</span>\n              </div>\n            </button>\n\n            <button\n              id=\"area\"\n              onClick={(e) => {\n                canvas.isDrawingMode = false;\n                canvas.selection = false;\n                setCanvasTool(\"area\");\n                setActiveTool(e, \"area\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src={\"images/Area2.png\"} alt=\"Area\"></img>\n                <span className={styles.tooltiptext}>Area</span>\n              </div>\n            </button>\n            <button\n              id=\"length\"\n              onClick={(e) => {\n                canvas.isDrawingMode = false;\n                canvas.selection = false;\n                setCanvasTool(\"length\");\n                setActiveTool(e, \"length\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src={\"images/Length2.png\"} alt=\"Length\"></img>\n                <span className={styles.tooltiptext}>Length</span>\n              </div>\n            </button>\n            <button\n              id=\"perimeter\"\n              onClick={(e) => {\n                canvas.isDrawingMode = false;\n                canvas.selection = false;\n                setCanvasTool(\"perimeter\");\n                setActiveTool(e, \"perimeter\");\n              }}\n            >\n              <div className={styles.tooltip}>\n                <img src={\"images/Perimeter2.png\"} alt=\"Perimeter\"></img>\n                <span className={styles.tooltiptext}>Perimeter</span>\n              </div>\n            </button>\n          </div>\n        </div>\n        <canvas\n          ref={canvasRef}\n          id=\"my-fabric-canvas\"\n          width=\"1191\"\n          height=\"842\"\n        ></canvas>\n      </div>\n    </MediaQuery>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}