{"ast":null,"code":"var _jsxFileName = \"C:\\\\Tutorials\\\\elp-app\\\\src\\\\components\\\\Picker\\\\Alpha.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport throttle from \"lodash.throttle\";\nimport Svg from \"./Svg\";\nimport usePaintAlpha from \"./usePaintAlpha\";\nimport config from \"./config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  squareSize,\n  barSize,\n  delay\n} = config;\nexport const AlphaWrapper = styled.div`\n  align-self: flex-end;\n  position: relative;\n  width: ${squareSize + \"px\"};\n  height: ${barSize + \"px\"};\n  cursor: ew-resize;\n`;\n_c = AlphaWrapper;\nexport const Canvas = styled.canvas.attrs(p => ({\n  width: squareSize,\n  height: barSize\n}))``;\n_c2 = Canvas;\nexport const Handle = styled.div.attrs(p => ({\n  style: {\n    left: p.left + \"px\",\n    transition: p.animate ? \"left .2s ease-out\" : \"0s\"\n  }\n}))`\n  position: absolute;\n  top: 0px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: ${barSize}px;\n  height: ${barSize}px;\n  pointer-events: none;\n  svg {\n    width: 100%;\n    height: 100%;\n  }\n`;\n_c3 = Handle;\n\nconst Alpha = ({\n  hue,\n  alphaX,\n  offsetLeft,\n  animate,\n  setAlphaX,\n  setAlpha,\n  setAnimate\n}) => {\n  _s();\n\n  const bar = useRef(null);\n  const canvas = useRef(null);\n  usePaintAlpha(canvas, hue);\n  useEffect(() => {\n    function computePosition(e) {\n      return Math.max(barSize / -2, Math.min(e.clientX - offsetLeft - barSize + 5, squareSize - barSize / 2));\n    }\n\n    function computeAlpha(x) {\n      return Math.round((x + barSize / 2) * (100 / squareSize));\n    }\n\n    const onMouseMove = throttle(e => {\n      const x = computePosition(e);\n      const hue = computeAlpha(x);\n      setAlphaX(x);\n      setAlpha(hue);\n    }, delay);\n\n    function onMouseUp(e) {\n      const x = computePosition(e);\n      const hue = computeAlpha(x);\n      setAlphaX(x);\n      setAlpha(hue);\n      document.body.removeEventListener(\"mousemove\", onMouseMove);\n      document.body.removeEventListener(\"mouseup\", onMouseUp);\n    }\n\n    function onMouseDown(e) {\n      setAnimate(false);\n      document.body.addEventListener(\"mousemove\", onMouseMove);\n      document.body.addEventListener(\"mouseup\", onMouseUp);\n    }\n\n    const barRef = bar.current;\n    barRef.addEventListener(\"mousedown\", onMouseDown);\n    return () => {\n      barRef.removeEventListener(\"mousedown\", onMouseDown);\n      document.body.removeEventListener(\"mousemove\", onMouseMove);\n      document.body.removeEventListener(\"mouseup\", onMouseUp);\n    };\n  }, [offsetLeft, setAlpha, setAlphaX, setAnimate]);\n  return /*#__PURE__*/_jsxDEV(AlphaWrapper, {\n    ref: bar,\n    children: [/*#__PURE__*/_jsxDEV(Handle, {\n      left: alphaX,\n      animate: animate,\n      children: /*#__PURE__*/_jsxDEV(Svg, {\n        name: \"handle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Canvas, {\n      ref: canvas\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Alpha, \"sXnakAV8d08mMHlmjJt1lHPIb7w=\", false, function () {\n  return [usePaintAlpha];\n});\n\n_c4 = Alpha;\nexport default Alpha;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"AlphaWrapper\");\n$RefreshReg$(_c2, \"Canvas\");\n$RefreshReg$(_c3, \"Handle\");\n$RefreshReg$(_c4, \"Alpha\");","map":{"version":3,"sources":["C:/Tutorials/elp-app/src/components/Picker/Alpha.js"],"names":["React","useRef","useEffect","styled","throttle","Svg","usePaintAlpha","config","squareSize","barSize","delay","AlphaWrapper","div","Canvas","canvas","attrs","p","width","height","Handle","style","left","transition","animate","Alpha","hue","alphaX","offsetLeft","setAlphaX","setAlpha","setAnimate","bar","computePosition","e","Math","max","min","clientX","computeAlpha","x","round","onMouseMove","onMouseUp","document","body","removeEventListener","onMouseDown","addEventListener","barRef","current"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport throttle from \"lodash.throttle\"\r\nimport Svg from \"./Svg\"\r\nimport usePaintAlpha from \"./usePaintAlpha\"\r\nimport config from \"./config\"\r\n\r\nconst { squareSize, barSize, delay } = config\r\n\r\nexport const AlphaWrapper = styled.div`\r\n  align-self: flex-end;\r\n  position: relative;\r\n  width: ${squareSize + \"px\"};\r\n  height: ${barSize + \"px\"};\r\n  cursor: ew-resize;\r\n`\r\n\r\nexport const Canvas = styled.canvas.attrs(p => ({\r\n  width: squareSize,\r\n  height: barSize\r\n}))``\r\n\r\nexport const Handle = styled.div.attrs(p => ({\r\n  style: {\r\n    left: p.left + \"px\",\r\n    transition: p.animate ? \"left .2s ease-out\" : \"0s\"\r\n  }\r\n}))`\r\n  position: absolute;\r\n  top: 0px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: ${barSize}px;\r\n  height: ${barSize}px;\r\n  pointer-events: none;\r\n  svg {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n`\r\n\r\nconst Alpha = ({\r\n  hue,\r\n  alphaX,\r\n  offsetLeft,\r\n  animate,\r\n  setAlphaX,\r\n  setAlpha,\r\n  setAnimate\r\n}) => {\r\n  const bar = useRef(null)\r\n  const canvas = useRef(null)\r\n\r\n  usePaintAlpha(canvas, hue)\r\n\r\n  useEffect(() => {\r\n    function computePosition(e) {\r\n      return Math.max(\r\n        barSize / -2,\r\n        Math.min(e.clientX - offsetLeft - barSize + 5, squareSize - barSize / 2)\r\n      )\r\n    }\r\n\r\n    function computeAlpha(x) {\r\n      return Math.round((x + barSize / 2) * (100 / squareSize))\r\n    }\r\n\r\n    const onMouseMove = throttle(e => {\r\n      const x = computePosition(e)\r\n      const hue = computeAlpha(x)\r\n\r\n      setAlphaX(x)\r\n      setAlpha(hue)\r\n    }, delay)\r\n\r\n    function onMouseUp(e) {\r\n      const x = computePosition(e)\r\n      const hue = computeAlpha(x)\r\n      setAlphaX(x)\r\n      setAlpha(hue)\r\n      document.body.removeEventListener(\"mousemove\", onMouseMove)\r\n      document.body.removeEventListener(\"mouseup\", onMouseUp)\r\n    }\r\n\r\n    function onMouseDown(e) {\r\n      setAnimate(false)\r\n      document.body.addEventListener(\"mousemove\", onMouseMove)\r\n      document.body.addEventListener(\"mouseup\", onMouseUp)\r\n    }\r\n\r\n    const barRef = bar.current\r\n    barRef.addEventListener(\"mousedown\", onMouseDown)\r\n\r\n    return () => {\r\n      barRef.removeEventListener(\"mousedown\", onMouseDown)\r\n      document.body.removeEventListener(\"mousemove\", onMouseMove)\r\n      document.body.removeEventListener(\"mouseup\", onMouseUp)\r\n    }\r\n  }, [offsetLeft, setAlpha, setAlphaX, setAnimate])\r\n\r\n  return (\r\n    <AlphaWrapper ref={bar}>\r\n      <Handle left={alphaX} animate={animate}>\r\n        <Svg name=\"handle\" />\r\n      </Handle>\r\n      <Canvas ref={canvas} />\r\n    </AlphaWrapper>\r\n  )\r\n}\r\n\r\nexport default Alpha\r\n"]},"metadata":{},"sourceType":"module"}