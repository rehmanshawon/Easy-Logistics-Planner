{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Tutorials/elp-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import React,{useRef,useEffect}from\"react\";import styled from\"styled-components\";import throttle from\"lodash.throttle\";import Svg from\"./Svg\";import usePaintHue from\"./usePaintHue\";import config from\"./config\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var squareSize=config.squareSize,barSize=config.barSize,delay=config.delay;export var HueWrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  position: relative;\\n  width: \",\";\\n  height: \",\";\\n  cursor: ew-resize;\\n\"])),squareSize+\"px\",barSize+\"px\");export var Canvas=styled.canvas.attrs(function(p){return{width:squareSize,height:barSize};})(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\"])));export var Handle=styled.div.attrs(function(p){return{style:{left:p.left+\"px\",transition:p.animate?\"left .2s ease-out\":\"0s\"}};})(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 0px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  width: \",\"px;\\n  height: \",\"px;\\n  pointer-events: none;\\n  svg {\\n    width: 100%;\\n    height: 100%;\\n  }\\n\"])),barSize,barSize);var Hue=function Hue(_ref){var hueX=_ref.hueX,offsetLeft=_ref.offsetLeft,animate=_ref.animate,setHueX=_ref.setHueX,setHue=_ref.setHue,setAnimate=_ref.setAnimate;var bar=useRef(null);var canvas=useRef(null);usePaintHue(canvas);useEffect(function(){function computePosition(e){return Math.max(barSize/-2,Math.min(e.clientX-offsetLeft-barSize+5,squareSize-barSize/2));}function computeHue(x){return Math.round((x+barSize/2)*(360/squareSize));}var onMouseMove=throttle(function(e){var x=computePosition(e);var hue=computeHue(x);setHueX(x);setHue(hue);},delay);function onMouseUp(e){var x=computePosition(e);var hue=computeHue(x);setHueX(x);setHue(hue);document.body.removeEventListener(\"mousemove\",onMouseMove);document.body.removeEventListener(\"mouseup\",onMouseUp);}function onMouseDown(e){setAnimate(false);document.body.addEventListener(\"mousemove\",onMouseMove);document.body.addEventListener(\"mouseup\",onMouseUp);}var barRef=bar.current;barRef.addEventListener(\"mousedown\",onMouseDown);return function(){barRef.removeEventListener(\"mousedown\",onMouseDown);document.body.removeEventListener(\"mousemove\",onMouseMove);document.body.removeEventListener(\"mouseup\",onMouseUp);};},[offsetLeft,setHue,setHueX,setAnimate]);return/*#__PURE__*/_jsxs(HueWrapper,{ref:bar,children:[/*#__PURE__*/_jsx(Handle,{left:hueX,animate:animate,children:/*#__PURE__*/_jsx(Svg,{name:\"handle\"})}),/*#__PURE__*/_jsx(Canvas,{ref:canvas})]});};export default Hue;","map":{"version":3,"sources":["C:/Tutorials/elp-app/src/components/Picker/Hue.js"],"names":["React","useRef","useEffect","styled","throttle","Svg","usePaintHue","config","squareSize","barSize","delay","HueWrapper","div","Canvas","canvas","attrs","p","width","height","Handle","style","left","transition","animate","Hue","hueX","offsetLeft","setHueX","setHue","setAnimate","bar","computePosition","e","Math","max","min","clientX","computeHue","x","round","onMouseMove","hue","onMouseUp","document","body","removeEventListener","onMouseDown","addEventListener","barRef","current"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport throttle from \"lodash.throttle\"\r\nimport Svg from \"./Svg\"\r\nimport usePaintHue from \"./usePaintHue\"\r\nimport config from \"./config\"\r\n\r\nconst { squareSize, barSize, delay } = config\r\n\r\nexport const HueWrapper = styled.div`\r\n  position: relative;\r\n  width: ${squareSize + \"px\"};\r\n  height: ${barSize + \"px\"};\r\n  cursor: ew-resize;\r\n`\r\n\r\nexport const Canvas = styled.canvas.attrs(p => ({\r\n  width: squareSize,\r\n  height: barSize\r\n}))``\r\n\r\nexport const Handle = styled.div.attrs(p => ({\r\n  style: {\r\n    left: p.left + \"px\",\r\n    transition: p.animate ? \"left .2s ease-out\" : \"0s\"\r\n  }\r\n}))`\r\n  position: absolute;\r\n  top: 0px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: ${barSize}px;\r\n  height: ${barSize}px;\r\n  pointer-events: none;\r\n  svg {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n`\r\n\r\nconst Hue = ({ hueX, offsetLeft, animate, setHueX, setHue, setAnimate }) => {\r\n  const bar = useRef(null)\r\n  const canvas = useRef(null)\r\n\r\n  usePaintHue(canvas)\r\n\r\n  useEffect(() => {\r\n    function computePosition(e) {\r\n      return Math.max(\r\n        barSize / -2,\r\n        Math.min(e.clientX - offsetLeft - barSize + 5, squareSize - barSize / 2)\r\n      )\r\n    }\r\n\r\n    function computeHue(x) {\r\n      return Math.round((x + barSize / 2) * (360 / squareSize))\r\n    }\r\n\r\n    const onMouseMove = throttle(e => {\r\n      const x = computePosition(e)\r\n      const hue = computeHue(x)\r\n\r\n      setHueX(x)\r\n      setHue(hue)\r\n    }, delay)\r\n\r\n    function onMouseUp(e) {\r\n      const x = computePosition(e)\r\n      const hue = computeHue(x)\r\n      setHueX(x)\r\n      setHue(hue)\r\n      document.body.removeEventListener(\"mousemove\", onMouseMove)\r\n      document.body.removeEventListener(\"mouseup\", onMouseUp)\r\n    }\r\n\r\n    function onMouseDown(e) {\r\n      setAnimate(false)\r\n      document.body.addEventListener(\"mousemove\", onMouseMove)\r\n      document.body.addEventListener(\"mouseup\", onMouseUp)\r\n    }\r\n\r\n    const barRef = bar.current\r\n    barRef.addEventListener(\"mousedown\", onMouseDown)\r\n\r\n    return () => {\r\n      barRef.removeEventListener(\"mousedown\", onMouseDown)\r\n      document.body.removeEventListener(\"mousemove\", onMouseMove)\r\n      document.body.removeEventListener(\"mouseup\", onMouseUp)\r\n    }\r\n  }, [offsetLeft, setHue, setHueX, setAnimate])\r\n\r\n  return (\r\n    <HueWrapper ref={bar}>\r\n      <Handle left={hueX} animate={animate}>\r\n        <Svg name=\"handle\" />\r\n      </Handle>\r\n      <Canvas ref={canvas} />\r\n    </HueWrapper>\r\n  )\r\n}\r\n\r\nexport default Hue\r\n"]},"metadata":{},"sourceType":"module"}